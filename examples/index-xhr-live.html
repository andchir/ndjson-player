<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>NDJSON Player (NDJP) : XHR LIVE Example</title>
    <link rel="stylesheet" href="../dist/css/ndjson-player-material-skin.min.css" type="text/css">
    <link rel="stylesheet" href="css/example.css" type="text/css">
    <script src="../dist/ndjson-player.src.js" type="text/javascript"></script>
    <script>
        m2d2.ready($ => {
            const url = "http://localhost:7171/live";
            const fps = 10;
            /*
            const ndjp = new NDJPlayer(url, "#video", {
                fps : fps,
                controls : "live",
                live : true // This will request the URL as "live feed"
            });

            /*

            Alternative to 'live: true' you can use:
            (please note that we are not specifying url when creating NDJPlayer object)
            */
            const ndjp = new NDJPlayer("#video", {
                controls : "live"
            });
            setInterval(() => {
                $.get(url, frame => {
                    ndjp.player.reload(frame);
                });
            }, 1000 / fps);


        });
    </script>
</head>
<body>
    <div id="video"></div>
</body>
</html>
