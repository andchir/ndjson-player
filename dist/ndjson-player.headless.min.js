/**
 * Author : A.Lepe (dev@alepe.com)
 * License: MIT
 * Version: 0.1.8
 * Updated: 2022-05-16
 * Content: ndjson-player.headless.min.js (Bundle 'No M2D2 included' Minimized)
 */

class NdJsonPlayer{fps;loop;showfirst;autoplay;live;path;playing=!1;loaded=!1;backwards=!1;started=!1;onStart;onLoad;onRender;onPlay;onStop;onFinish;onError;wrapper=null;canvas=null;ctx=null;timer=null;src="";frame=0;multiplier=1;_numFrames=0;_totTime=0;_frames=[];_frameBase="";_thumbBase="";_startTimeStamp=0;constructor(t,e,s,a){const n=this;n.src=t,window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame);const i=()=>{};a=Object.assign({},a),n.onStart=a.onstart||i,n.onLoad=a.onload||i,n.onRender=a.onrender||i,n.onPlay=a.onplay||i,n.onStop=a.onstop||i,n.onFinish=a.onfinish||i,n.onError=a.onerror||(t=>{console.log(t)});let o=null;if(e instanceof Node)o=e;else{if("object"==typeof e)s=e,e="canvas";else if("string"!=typeof e)throw"Incorrect parameter passed to constructor of NdJsonPlayer";o=document.querySelector(e||"canvas")}if(!o)throw"Canvas element was not found in DOM: "+e;if("CANVAS"===o.tagName){n.canvas=o;const t=document.createElement("div");o.parentNode.insertBefore(t,o),t.prepend(o),o=t}else if(o.hasChildNodes()){if(n.canvas=o.querySelector("canvas"),!n.canvas)throw"No canvas found in element"}else n.canvas=document.createElement("CANVAS"),o.prepend(n.canvas);n.wrapper=o,n.canvas.width=n.wrapper.parent().clientWidth,n.canvas.height=n.wrapper.parent().clientHeight,o.classList.add("ndjp"),n.ctx=n.canvas.getContext("2d"),n.fps=s.fps||24,n.loop=s.loop||!1,n.live=s.live||!1,n.autoplay=s.autoplay||n.live||!1,n.showfirst=!1!==s.showfirst,n.path=s.path||"","auto"===s.width&&(s.width=0),"auto"===s.height&&(s.height=0),n.timer=new TimerSrc(1e3/n.fps),n.live?new TimerSrc(1e3/n.fps,(()=>{fetch(n.src).then((t=>t.json())).then((t=>{n.reload(t)}))})).play():n.src?n.load():console.log("Initializing without source...")}_reset(){this._frames=[],this._totTime=0,this._numFrames=0,this._startTimeStamp=0,this.loaded=!1}load(t,e){const s=this;void 0!==e&&(this.src=e,this._reset());const a=new TextDecoder;let n="";return fetch(s.src).then((t=>t.body.getReader())).then((e=>e.read().then((function i({value:o,done:r}){if(r){const e=JSON.parse(n);return s.processFrame(e),t&&t(e),void s.onLoad(s)}const l=(n+a.decode(o,{stream:!0})).split(/[\r\n](?=.)/);return n=l.pop(),l.map(JSON.parse).forEach((e=>{s.processFrame(e),t&&t(e)})),e.read().then(i)})))).catch((t=>this.onError(t)))}reload(t,e){const s=this,a=[];switch(s._reset(),!0){case"string"==typeof t:a=t.split(/[\r\n](?=.)/.map(JSON.parse));break;case Array.isArray(t):a=t;break;case"Object"===t.constructor.name:a.push(t);break;default:return void console.log("Unable to reload frames. ")}a.forEach((t=>{s.processFrame(t),e&&e(t)}))}append(t){this._frames.push(t)}prepend(t){this._frames.unshift(t),this.frame++}processFrame(t){const e=this;void 0!==t.w&&(e.canvas.width=t.w),void 0!==t.h&&(e.canvas.height=t.h),void 0!==t.fb&&(e._frameBase=t.fb),void 0!==t.thb&&(e._thumbBase=t.thb),void 0!==t.tf&&(e._numFrames=t.tf),void 0!==t.tt&&(e._totTime=t.tt),void 0!==t.ts&&(e._startTimeStamp||(e._startTimeStamp=t.ts)),void 0!==t.fps&&(e.fps=t.fps,e.timer=new TimerSrc(1e3/e.fps)),void 0!==t.f?(e._frames.push(t),e.loaded||(e.loaded=!0,e.autoplay?e.play():e.showfirst&&e.step())):e.onRender(t),e.started||(e.onStart(e),e.started=!0)}_render(t){if(null==this.timer)throw"TimerSrc was not initialized";if(0===this._frames.length)throw"Video is empty or no frames were found";this.frame>=this._frames.length-1&&(this.frame=this.loop?0:this._frames.length-1),this.frame<0&&(this.frame=this.loop?this._frames.length-1:0),this._displayImg(t)}_displayImg(t){const e=this,s=e._frames[e.frame],a=function(){e.onRender(s),e.timer.call((function(){e._increment(),t||e.timer.nocall(),e._displayImg()}))};if(void 0!==s.f){const t=e._frameBase+s.f;e._image(t,a)}else e.onRender(s),a()}_increment(){this.frame+=this.multiplier*(this.backwards?-1:1),this.frame<0&&(this.loop?this.frame=this._frames.length-1:(this.frame=0,this.pause(),this.onFinish(this))),this.frame>this.totalFrames()-1&&(this.loop?this.frame=0:(this.frame=this._frames.length-1,this.pause(),this.onFinish(this)))}_draw=function(t,e){const s=this;return 0===t.width&&0===t.height?(t.onerror(),void 0!==e&&e(!1)):(s.ctx.clearRect(0,0,s.canvas.width,s.canvas.height),s.ctx.drawImage(t,0,0,t.width,t.height,0,0,s.canvas.width,s.canvas.height),void 0!==e&&e(!0)),this};_image=function(t,e){const s=this,a=new Image;return a.crossOrigin="",a.onload=function(){s._draw(a,(function(t){t&&void 0!==e&&e(a)}))},a.onerror=function(){const t=s.onError();t&&(a.src=t)},a.src="/"===t[0]||t.match(/^https?:/)||t.match(/^data:image/)?t:s.path+t,this};frameBase(){return this._frameBase}currentFrame(){return this.frame}totalFrames(){return this._numFrames||this._frames.length}totalTime(){return this._totTime||this.currentFrame()/this.fps}frameAt(t){const e=this;let s=t<this.totalFrames()?e._frames[t]:null;return s&&(s.fb=e._frameBase),s}indexAt(t){return~~(t*this.totalFrames()/100)}playerNode(){return this.wrapper}play(t){t<0?t=0:t>this._frames.length?t=this._frames.length-1:void 0!==t&&(this.frame=1*t),this.playing=!0,this.timer.play(),this._render(!1),this.onPlay(this)}playForward(t){this.backwards=!1,this.play(t)}playBackwards(t){this.backwards=!0,this.play(t)}pause(){this.playing=!1,this.timer.pause(),this.onStop(this)}stop(){this.playing=!1,this.frame=0,this.timer.pause(),this._displayImg(!0),this.onStop(this)}step(){this.onPlay(this),this.playing=!1,this.timer.step(),this._render(!0),this.onStop(this)}jumpTo(t){t<0?t=0:t>this._frames.length?t=this._frames.length-1:void 0!==t&&(this.frame=1*t),this._render(!0)}stepForwards(){this.backwards=!1,this.step()}stepBackwards(){this.backwards=!0,this.step()}reset(){return void 0!==this.ctx.reset&&(this.ctx.reset(),this.ctx.clear(),this.stop(),this.canvas.width=this.canvas.width),this}}class NDJPlayer{player;options;ui;constructor(t,e,s){const a=this;function n(t){return t.indexOf(".")>0||-1!==t.indexOf("/")}function i(t){return"."===t[0]||"#"===t[0]||null!==document.querySelector(t)}switch(arguments.length){case 2:"Object"===arguments[1].constructor.name&&(s=arguments[1],n(arguments[0])?e=null:(arguments[0]instanceof HTMLElement||i(arguments[0]))&&(e=arguments[0],t=null));break;case 1:switch(!0){case"Object"===arguments[0].constructor.name:s=arguments[0],t=null,e=null;break;case n(arguments[0]):t=arguments[0],e=null,s={};break;case arguments[0]instanceof HTMLElement||i(arguments[0]):e=arguments[0],t=null,s={};break;default:console.log("Unknown parameter was passed to NDJPlayer constructor."),t=null,e=null,s={}}break;case 0:s={}}a.options=Object.assign({controls:!1,resize:!0,onaction:(t,e,s)=>{},onplay:t=>{},onstop:t=>{}},s||{}),this._create(e),this.player=new NdJsonPlayer(t,e,a.options,{onstart:function(t){a._adjustSize(),void 0!==a.options.onstart&&a.options.onstart(t)},onload:function(t){void 0!==a.options.onload&&a.options.onload(t)},onrender:function(t){a._onUpdate(t),void 0!==a.options.onrender&&a.options.onrender(t)},onplay:function(t){a.ui.panel&&(a.ui.play.show=!1,a.ui.step.css.contains("disabled")||(a.ui.step.show=!1),a.ui.pause.show=!0),a.options.onplay(t)},onstop:function(t){a.ui.panel&&(a.ui.play.show=!0,a.ui.step.css.contains("disabled")||(a.ui.step.show=!0),a.ui.pause.show=!1),a.options.onstop(t)},onfinish:function(t){},onerror:function(t){console.log(t)}}),window.addEventListener("resize",(function(t){a._adjustSize()}),!0)}_onUpdate(t){const e=this;if(e.ui){if(e.ui.frames&&(e.ui.frames.text=e.player.currentFrame()+1+"/"+e.player.totalFrames()),e.ui.lapse){let s="";const a=e.player._startTimeStamp&&void 0!==t.ts,n=void 0!==t.t,i=e.player._totTime>0;t.d&&(s=t.d+" "),a?s+=e._formatMillis(t.ts-e.player._startTimeStamp):n&&(s+=t.t.indexOf(":")>0?t.t:e._fmtTime(t.t)),i&&(s+="/"+e.player.totalTime()),e.ui.lapse.text=s}e.ui.progress&&e.player.totalFrames()&&(e.ui.progress.value=Math.round((e.player.currentFrame()+1)/e.player.totalFrames()*100))}}_adjustSize(){if(this.options.resize){let t=this.player.wrapper,e=t.parent(),s=(this.options.height||this.player.canvas.height)/(this.options.width||this.player.canvas.width);this.player.canvas.height=e.clientHeight-(this.options.controls?t.querySelector(".panel").clientHeight:0),this.player.canvas.width=this.player.canvas.height/s}}_create(t){const e=this;if(m2d2){const s=m2d2.load();e.ui=s(t,e._getUI(t)),e.ui.panel&&["thumb","play","step","pause","stop","lapse","progress","frames","fullscreen"].forEach((t=>{e.ui[t]=e.ui.panel[t]}))}else console.log("M2D2 was not found. Either use the standard version (which includes M2D2) or add M2D2 in your dependencies.")}_getUI(t){const e=this;let s={html:t.innerHTML||""};if(e.options.controls&&(s=this._getBasicUI(),"full"===e.options.controls))s.panel.step.css.remove("disabled");this.options.controls;let a=t instanceof Node?t:document.querySelector(t);if(a){a.querySelector("canvas")||(s=Object.assign({canvas:""},s))}else console.log("Root element: "+t+" was not found in document"),s=Object.assign({canvas:""},s);return s}_getBasicUI(){const t=this;return document.addEventListener("fullscreenchange",(e=>{const s=t.player.wrapper;document.fullscreenElement?s.classList.add("fullscreen"):s.classList.remove("fullscreen")})),{caption:"",css:t.options.controls,panel:{tagName:"div",className:"panel",thumb:{tagName:"figure",className:"thumb",img:{src:""},caption:{tagName:"figCaption",className:"caption"}},rec:{tagName:"a",className:"rec",title:"Live",href:"#"},play:{tagName:"a",className:"play",title:"Play",href:"#",onclick:function(){return t.ui.onaction("play",t.player,t),t.player.play(),!1}},pause:{tagName:"a",className:"pause",title:"Pause",href:"#",onclick:function(){return t.ui.onaction("pause",t.player,t),t.player.pause(),!1}},step:{tagName:"a",css:["step","disabled"],title:"Step",href:"#",onclick:function(){return t.ui.onaction("step",t.player,t),t.player.step(),!1}},stop:{tagName:"a",className:"stop",title:"Stop",href:"#",onclick:function(){return t.ui.onaction("stop",t.player,t),t.player.stop(),!1}},lapse:{tagName:"label",className:"lapse",title:"Time elapsed / Time Total",text:"0:00"},live:{tagName:"label",className:"live",text:"Live Feed"},progress:{value:0,max:100,onmousemove:function(e){let s=~~(e.offsetX/this.offsetWidth*100),a=t.player.frameAt(t.player.indexAt(s));a?(t.ui.thumb.show=!0,t.ui.thumb.img.src=t.player.frameBase()+(a.th||a.f),t.ui.thumb.img.onload=function(){const e=t.ui.thumb.img.naturalWidth||t.ui.thumb.img.width;t.ui.thumb.style.width=e+"px"},void 0!==a.tc&&(t.ui.thumb.caption=a.tc),t.ui.thumb.style.left=this.offsetLeft+e.offsetX-t.ui.thumb.clientWidth/2+"px"):t.ui.thumb.show=!1},onmouseleave:function(){t.ui.thumb.show=!1},onclick:function(e){let s=~~(e.offsetX/this.offsetWidth*100),a=t.player.indexAt(s);t.player.jumpTo(a),t.ui.onaction("progress",t.player,t)}},frames:{tagName:"label",className:"frames",title:"Current Frame / Total Frames",text:"0"},fullscreen:{tagName:"a",className:"fullscreen",title:"Full Screen",href:"#",onclick:function(e){const s=t.player.wrapper;return s.classList.contains("fullscreen")?(t.ui.onaction("exit-fullscreen",t.player,t),document.exitFullscreen()):(t.ui.onaction("fullscreen",t.player,t),s.requestFullscreen()),!1}}},onaction:function(e,s,a){t.options.onaction(e,s,a)},onplay:function(e){t.options.onplay(e)},onstop:function(e){t.options.onstop(e,uiPlayer)}}}_fmtTime(t){let e=(t=t.toFixed(2)).split(".")[1]||"00";return(~~(t/60)+"").padStart(2,"0")+":"+(~~(t/60%1*60)+"").padStart(2,"0")+"."+e}_formatMillis(t){function e(t,e){return("00"+t).slice(-1*(e||2))}const s=Math.floor(t/1e3/60/60),a=Math.floor(60*(t/1e3/60/60-s)),n=Math.floor(60*(60*(t/1e3/60/60-s)-a)),i=parseInt(t%1e3/100);return e(s)+":"+e(a)+":"+e(n)+"."+e(i,3)}}function TimerSrc(t,e){let s,a,n,i,o={};o.interval=t,o.checker=50,o.status="init";let r=(new Date).getTime();return s=r-t,o.call=function(t){return e=t,o},o.nocall=function(){return e=null,o},o.exec=function(){return e&&e(),s=(new Date).getTime(),o},o.check=function(){return n&&n(),o},o.play=function(){return n=o.step,o.status="running",o},o.pause=function(){return n=null,o.status="paused",o},o.destroy=function(){for(var t in n=null,clearInterval(a),a=null,o)o[t]=null,delete o[t];o.status="destroyed"},o.step=function(){return r=(new Date).getTime(),i=Math.max(0,o.interval-(r-s)),0===i&&(i=o.interval,s=(new Date).getTime(),e&&e()),o},o.slow=function(){return o.interval=1e3,o},o.fast=function(){return o.interval=t,o},a=setInterval(o.check,o.checker),o}class VideoND extends HTMLElement{constructor(){super(),this._root=this;const t=this,e={autoplay:!1,controls:!1,loop:!1,live:!1,width:"auto",height:"auto",poster:"",preload:"auto",src:"",cc:"auto",caption:"",fullscreen:!1,fps:"",speed:!1,autosize:"auto",sizes:{}||[],thumbs:"auto"},s={};for(let t in e)s[t]=this.getAttribute(t)||this.hasAttribute(t)||e[t];s.onstart=function(e){t.onstart&&t.onstart(e)},s.onload=function(e){t.onload&&t.onload(e)},s.onrender=function(e){t.onrender&&t.onrender(e,a.wrapper,a,a.player.canvas,a.player.ctx)},this.style.display="block",this.className="ndjp";const a=new NDJPlayer(s.src,this,s)}setCaption(t){this._root.querySelector("caption").innerText=t}static get observedAttributes(){return["width","height","caption"]}attributeChangedCallback(t,e,s){"caption"===t&&this.setCaption(s)}}document.addEventListener("DOMContentLoaded",(function(){window.customElements.define("video-nd",VideoND)}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5kanNvbi1wbGF5ZXIuc3JjLmpzIiwibmRqc29uLXVpLnNyYy5qcyIsInRpbWVyLnNyYy5qcyIsInZpZGVvLW5kLnNyYy5qcyJdLCJuYW1lcyI6WyJOZEpzb25QbGF5ZXIiLCJmcHMiLCJsb29wIiwic2hvd2ZpcnN0IiwiYXV0b3BsYXkiLCJsaXZlIiwicGF0aCIsInBsYXlpbmciLCJsb2FkZWQiLCJiYWNrd2FyZHMiLCJzdGFydGVkIiwib25TdGFydCIsIm9uTG9hZCIsIm9uUmVuZGVyIiwib25QbGF5Iiwib25TdG9wIiwib25GaW5pc2giLCJvbkVycm9yIiwid3JhcHBlciIsImNhbnZhcyIsImN0eCIsInRpbWVyIiwic3JjIiwiZnJhbWUiLCJtdWx0aXBsaWVyIiwiX251bUZyYW1lcyIsIl90b3RUaW1lIiwiX2ZyYW1lcyIsIl9mcmFtZUJhc2UiLCJfdGh1bWJCYXNlIiwiX3N0YXJ0VGltZVN0YW1wIiwiY29uc3RydWN0b3IiLCJlbGVtZW50Iiwib3B0aW9ucyIsImV2ZW50cyIsIl90aGlzIiwidGhpcyIsIndpbmRvdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1velJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm5vRXZlbnQiLCJPYmplY3QiLCJhc3NpZ24iLCJvbnN0YXJ0Iiwib25sb2FkIiwib25yZW5kZXIiLCJvbnBsYXkiLCJvbnN0b3AiLCJvbmZpbmlzaCIsIm9uZXJyb3IiLCJlIiwiY29uc29sZSIsImxvZyIsInBsYXllciIsIk5vZGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ0YWdOYW1lIiwiY3JlYXRlRWxlbWVudCIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJwcmVwZW5kIiwiaGFzQ2hpbGROb2RlcyIsIndpZHRoIiwicGFyZW50IiwiY2xpZW50V2lkdGgiLCJoZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJjbGFzc0xpc3QiLCJhZGQiLCJnZXRDb250ZXh0IiwiVGltZXJTcmMiLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJqc29uIiwicmVsb2FkIiwicGxheSIsImxvYWQiLCJfcmVzZXQiLCJjYWxsYmFjayIsIm5ld1NyYyIsInVuZGVmaW5lZCIsImRlY29kZXIiLCJUZXh0RGVjb2RlciIsImJ1ZmZlciIsInJlc3AiLCJib2R5IiwiZ2V0UmVhZGVyIiwicmVhZGVyIiwicmVhZCIsInByb2Nlc3MiLCJ2YWx1ZSIsImRvbmUiLCJsYXN0IiwiSlNPTiIsInBhcnNlIiwicHJvY2Vzc0ZyYW1lIiwibGluZXMiLCJkZWNvZGUiLCJzdHJlYW0iLCJzcGxpdCIsInBvcCIsIm1hcCIsImZvckVhY2giLCJpdGVtIiwiY2F0Y2giLCJyZWFzb24iLCJmcmFtZXMiLCJmcyIsIkFycmF5IiwiaXNBcnJheSIsIm5hbWUiLCJwdXNoIiwiYXBwZW5kIiwidW5zaGlmdCIsInciLCJoIiwiZmIiLCJ0aGIiLCJ0ZiIsInR0IiwidHMiLCJmIiwic3RlcCIsIl9yZW5kZXIiLCJvbmNlIiwibGVuZ3RoIiwiX2Rpc3BsYXlJbWciLCJuZXh0IiwiY2FsbCIsIl9pbmNyZW1lbnQiLCJub2NhbGwiLCJfaW1hZ2UiLCJwYXVzZSIsInRvdGFsRnJhbWVzIiwiX2RyYXciLCJpbWciLCJjbGVhclJlY3QiLCJkcmF3SW1hZ2UiLCJpbWFnZSIsIkltYWdlIiwiY3Jvc3NPcmlnaW4iLCJkcmF3biIsImVyciIsIm1hdGNoIiwiZnJhbWVCYXNlIiwiY3VycmVudEZyYW1lIiwidG90YWxUaW1lIiwiZnJhbWVBdCIsImluZGV4IiwiaW5kZXhBdCIsInBlcmNlbnRhZ2UiLCJwbGF5ZXJOb2RlIiwic3RhcnRGcmFtZSIsInBsYXlGb3J3YXJkIiwicGxheUJhY2t3YXJkcyIsInN0b3AiLCJqdW1wVG8iLCJzdGVwRm9yd2FyZHMiLCJzdGVwQmFja3dhcmRzIiwicmVzZXQiLCJjbGVhciIsIk5ESlBsYXllciIsInVpIiwiaXNNZWRpYSIsInN0ciIsImluZGV4T2YiLCJpc1NlbGVjdG9yIiwiYXJndW1lbnRzIiwiSFRNTEVsZW1lbnQiLCJjb250cm9scyIsInJlc2l6ZSIsIm9uYWN0aW9uIiwiYWN0aW9uIiwibmRqUGxheWVyIiwidWlQbGF5ZXIiLCJfY3JlYXRlIiwiX2FkanVzdFNpemUiLCJfb25VcGRhdGUiLCJwYW5lbCIsInNob3ciLCJjc3MiLCJjb250YWlucyIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsInRleHQiLCJsYXBzZSIsInQiLCJkIiwiX2Zvcm1hdE1pbGxpcyIsIl9mbXRUaW1lIiwicHJvZ3Jlc3MiLCJNYXRoIiwicm91bmQiLCJyYXRpb1ciLCJtMmQyIiwiJCIsIl9nZXRVSSIsIml0IiwiaHRtbCIsImlubmVySFRNTCIsIl9nZXRCYXNpY1VJIiwicmVtb3ZlIiwicm9vdCIsImZ1bGxzY3JlZW5FbGVtZW50IiwiY2FwdGlvbiIsImNsYXNzTmFtZSIsInRodW1iIiwicmVjIiwidGl0bGUiLCJocmVmIiwib25jbGljayIsIm1heCIsIm9ubW91c2Vtb3ZlIiwicG9zaXRpb24iLCJvZmZzZXRXaWR0aCIsInRoIiwibmF0dXJhbFdpZHRoIiwic3R5bGUiLCJ0YyIsImxlZnQiLCJvZmZzZXRMZWZ0Iiwib2Zmc2V0WCIsIm9ubW91c2VsZWF2ZSIsImZ1bGxzY3JlZW4iLCJldiIsImV4aXRGdWxsc2NyZWVuIiwicmVxdWVzdEZ1bGxzY3JlZW4iLCJ0aW1lIiwiZGVjaW1hbCIsInRvRml4ZWQiLCJwYWRTdGFydCIsIm1pbGxpcyIsInBhZCIsIm51bSIsImRpZ2l0cyIsInNsaWNlIiwiZmxvb3IiLCJtIiwicyIsIm1zIiwicGFyc2VJbnQiLCJvcmlnaW5hbF9tcyIsInN0YXJ0VGltZSIsIm9iaiIsImludGVydmFsIiwiY2hlY2tlciIsInN0YXR1cyIsIm5vd1RpbWUiLCJEYXRlIiwiZ2V0VGltZSIsImZ1bmMiLCJleGVjIiwiY2hlY2siLCJkZXN0cm95IiwibyIsImNsZWFySW50ZXJ2YWwiLCJzbG93IiwiZmFzdCIsInNldEludGVydmFsIiwiVmlkZW9ORCIsInN1cGVyIiwiX3Jvb3QiLCJkZWZhdWx0T3B0aW9ucyIsInBvc3RlciIsInByZWxvYWQiLCJjYyIsInNwZWVkIiwiYXV0b3NpemUiLCJzaXplcyIsInRodW1icyIsImdldEF0dHJpYnV0ZSIsImhhc0F0dHJpYnV0ZSIsImRpc3BsYXkiLCJzZXRDYXB0aW9uIiwiaW5uZXJUZXh0Iiwib2JzZXJ2ZWRBdHRyaWJ1dGVzIiwiYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrIiwib2xkVmFsdWUiLCJuZXdWYWx1ZSIsImN1c3RvbUVsZW1lbnRzIiwiZGVmaW5lIl0sIm1hcHBpbmdzIjoiQUFTQSxNQUFBQSxhQUVBQyxJQUNBQyxLQUNBQyxVQUNBQyxTQUNBQyxLQUNBQyxLQUtBQyxTQUFBLEVBQ0FDLFFBQUEsRUFDQUMsV0FBQSxFQUNBQyxTQUFBLEVBR0FDLFFBQ0FDLE9BQ0FDLFNBQ0FDLE9BQ0FDLE9BQ0FDLFNBQ0FDLFFBR0FDLFFBQUEsS0FDQUMsT0FBQSxLQUNBQyxJQUFBLEtBQ0FDLE1BQUEsS0FDQUMsSUFBQSxHQUNBQyxNQUFBLEVBQ0FDLFdBQUEsRUFHQUMsV0FBQSxFQUNBQyxTQUFBLEVBQ0FDLFFBQUEsR0FDQUMsV0FBQSxHQUNBQyxXQUFBLEdBQ0FDLGdCQUFBLEVBYUFDLFlBQUFULEVBQUFVLEVBQUFDLEVBQUFDLEdBQ0EsTUFBQUMsRUFBQUMsS0FDQUQsRUFBQWIsSUFBQUEsRUFDQWUsT0FBQUMsd0JBQ0FELE9BQUFDLHNCQUFBRCxPQUFBRSw2QkFBQUYsT0FBQUcsMEJBRUEsTUFBQUMsRUFBQSxPQUNBUCxFQUFBUSxPQUFBQyxPQUFBLEdBQUFULEdBRUFDLEVBQUF4QixRQUFBdUIsRUFBQVUsU0FBQUgsRUFDQU4sRUFBQXZCLE9BQUFzQixFQUFBVyxRQUFBSixFQUNBTixFQUFBdEIsU0FBQXFCLEVBQUFZLFVBQUFMLEVBQ0FOLEVBQUFyQixPQUFBb0IsRUFBQWEsUUFBQU4sRUFDQU4sRUFBQXBCLE9BQUFtQixFQUFBYyxRQUFBUCxFQUNBTixFQUFBbkIsU0FBQWtCLEVBQUFlLFVBQUFSLEVBQ0FOLEVBQUFsQixRQUFBaUIsRUFBQWdCLFNBQUEsQ0FB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LElBQUEyRSxFQUFBM0UsR0FFQTdKLEVBQUFXLFFBQUEsU0FBQVUsR0FDQXVKLEVBQUFqSyxTQUNBaUssRUFBQWpLLFFBQUFVLElBR0FyQixFQUFBWSxPQUFBLFNBQUFTLEdBQ0F1SixFQUFBaEssUUFDQWdLLEVBQUFoSyxPQUFBUyxJQUdBckIsRUFBQWEsU0FBQSxTQUFBdkIsR0FDQXNMLEVBQUEvSixVQUNBK0osRUFBQS9KLFNBQUF2QixFQUFBeUosRUFBQTlKLFFBQUE4SixFQUFBQSxFQUFBMUgsT0FBQW5DLE9BQUE2SixFQUFBMUgsT0FBQWxDLE1BSUFnQixLQUFBd0wsTUFBQXVELFFBQUEsUUFDQS9PLEtBQUE0SyxVQUFBLE9BQ0EsTUFBQWhDLEVBQUEsSUFBQVosVUFBQW5JLEVBQUFYLElBQUFjLEtBQUFILEdBR0FtUCxXQUFBckUsR0FDQTNLLEtBQUFvTyxNQUFBL00sY0FBQSxXQUFBNE4sVUFBQXRFLEVBR0F1RSxnQ0FDQSxNQUFBLENBQUEsUUFBQSxTQUFBLFdBR0FDLHlCQUFBdEssRUFBQXVLLEVBQUFDLEdBQ0EsWUFBQXhLLEdBQ0E3RSxLQUFBZ1AsV0FBQUssSUFJQWpPLFNBQUFpSSxpQkFBQSxvQkFBQSxXQUNBcEosT0FBQXFQLGVBQUFDLE9BQUEsV0FBQXJCIiwiZmlsZSI6Im5kanNvbi1wbGF5ZXIuaGVhZGxlc3MubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gIFRoaXMgcGxheWVyIHVzZXMgTkRKU09OIGZpbGVzIHRvIHBsYXkgaW4gc2VxdWVuY2UgYXMgYSB2aWRlb1xuICBBZGRpdGlvbmFsbHksIGl0IG1heSBjb250YWluIGluZm9ybWF0aW9uIGFib3V0IHRoZSBmcmFtZVxuICBJbnNwaXJlZCBpbiBodHRwczovL2dpdGh1Yi5jb20vbGVwZS9mcmFtZS1wbGF5ZXIvIChieSBWYWduZXIgU2FudGFuYSlcblxuICogaHR0cHM6Ly9naXRodWIuY29tL2xlcGUvbmRqc29uLXBsYXllclxuICogQGF1dGhvciBBLkxlcGVcbiAqIEBTaW5jZSAyMDIwLTA0LTE5XG4gKi9cbmNsYXNzIE5kSnNvblBsYXllciB7XG4gICAgLy8gT3B0aW9uc1xuICAgIGZwczsgICAgICAgIC8vZGVmYXVsdDogMjRGUFNcbiAgICBsb29wOyAgICAgICAvL2RlZmF1bHQ6IGZhbHNlXG4gICAgc2hvd2ZpcnN0OyAgLy9kZWZhdWx0OiB0cnVlIDogc2hvdyBmaXJzdCBpbWFnZVxuICAgIGF1dG9wbGF5OyAgIC8vZGVmYXVsdDogZmFsc2VcbiAgICBsaXZlOyAgICAgICAvL2RlZmF1bHQ6IGZhbHNlIC8vIFNvdXJjZSBpcyBhIGxpdmUgZmVlZFxuICAgIHBhdGg7ICAgICAgIC8vZGVmYXVsdDogXCJcIiA6IFNwZWNpZnkgY29tbW9uIHBhdGggZm9yIGltYWdlcyBpbiBjYXNlIFVSTCBpcyB1c2VkLlxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICBGb3IgZXhhbXBsZTogcGF0aCA9IFwiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2ltYWdlcy9cIlxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICB0aGVuLCB1c2UgXCJpbWcxMjMzNC5qcGdcIiBhcyBmcmFtZSBpbiBOREpTT04gKHRvIHJlZHVjZSBzaXplIG9mIGZpbGUpXG5cbiAgICAvLyBTdGF0dXNcbiAgICBwbGF5aW5nID0gZmFsc2U7ICAgLy8gU3RhdHVzXG4gICAgbG9hZGVkICA9IGZhbHNlOyAgIC8vIElmIGEgZnJhbWUgaGFzIGJlZW4gbG9hZGVkIG9yIG5vdFxuICAgIGJhY2t3YXJkcyA9IGZhbHNlOyAvLyBJZiBwbGF5aW5nIGJhY2t3YXJkc1xuICAgIHN0YXJ0ZWQgPSBmYWxzZTsgLy8gSWYgdGhlIHBsYXllciBhbHJlYWR5IHN0YXJ0IHBsYXlpbmcgYXQgbGVhc3QgMSBmcmFtZVxuXG4gICAgLy8gRXZlbnRzXG4gICAgb25TdGFydDsgICAgLy8gQ2FsbGJhY2sgd2hlbiB3ZSBwcm9jZXNzZWQgZmlyc3QgaW1hZ2VcbiAgICBvbkxvYWQ7ICAgICAvLyBDYWxsYmFjayB3aGVuIGRhdGEgaXMgY29tcGxldGVkIGxvYWRpbmdcbiAgICBvblJlbmRlcjsgICAvLyBDYWxsYmFjayB0byByZXR1cm4gbWV0YWRhdGEgd2hlbiBhIGZyYW1lIGlzIHJlbmRlcmVkXG4gICAgb25QbGF5OyAgICAgLy8gQ2FsbGJhY2sgd2hlbiB3ZSBzdGFydCBwbGF5aW5nXG4gICAgb25TdG9wOyAgICAgLy8gQ2FsbGJhY2sgd2hlbiB3ZSBzdG9wIHBsYXlpbmdcbiAgICBvbkZpbmlzaDsgICAvLyBDYWxsYmFjayB3aGVuIHZpZGVvIHJlYWNoZXMgdGhlIGxhc3QgZnJhbWVcbiAgICBvbkVycm9yOyAgICAvLyBDYWxsYmFjayB3aGVuIHRoZXJlIGlzIGFuIGVycm9yIHdpdGggdGhlIHNvdXJjZVxuXG4gICAgLy8gSW50ZXJuYWwgdXNlIG1haW5seVxuICAgIHdyYXBwZXIgPSBudWxsOyAgICAgLy8gRE9NIGVsZW1lbnQgd2hpY2ggY29udGFpbnMgdGhlIDxjYW52YXM+IG5vZGVcbiAgICBjYW52YXMgPSBudWxsOyAgICAgLy8gPGNhbnZhcz4gRE9NIG9iamVjdFxuICAgIGN0eCA9IG51bGw7ICAgICAgICAvLyBjYW52YXMuY3R4IG9iamVjdFxuICAgIHRpbWVyID0gbnVsbDsgICAgICAvLyBUaW1lclNyYyB1c2VkIHRvIG1hbmFnZSBGUFNcbiAgICBzcmMgPSBcIlwiOyAgICAgICAgICAvLyBWaWRlbyBzb3VyY2UgVVJJIChOREpTT04pXG4gICAgZnJhbWUgPSAwOyAgICAgICAgIC8vIEN1cnJlbnQgZnJhbWUgYmVpbmcgcGxheWVkXG4gICAgbXVsdGlwbGllciA9IDE7ICAgIC8vIE11bHRpcGxpZXIgdG8gY29udHJvbCBzcGVlZFxuXG4gICAgLy8gUHJpdmF0ZVxuICAgIF9udW1GcmFtZXMgPSAwOyAgICAgLy8gTnVtYmVyIG9mIHRvdGFsIGZyYW1lcyAoaW4gaGVhZGVyKVxuICAgIF90b3RUaW1lICAgPSAwOyAgICAgLy8gTnVtYmVyIG9mIHRvdGFsIHRpbWUgKGluIGhlYWRlcilcbiAgICBfZnJhbWVzID0gW107ICAgICAgIC8vIFZpZGVvIGNvbnRlbnQgaW5jbHVkaW5nIG1ldGFkYXRhIChhcnJheSlcbiAgICBfZnJhbWVCYXNlID0gXCJcIiAgICAgLy8gQmFzZSBmb3IgYWxsIGZyYW1lcyAnZmInXG4gICAgX3RodW1iQmFzZSA9IFwiXCIgICAgIC8vIEJhc2UgZm9yIGFsbCB0aHVtYm5haWxzICd0aGInXG4gICAgX3N0YXJ0VGltZVN0YW1wID0gMDsvLyBTdGFydGluZyB0aW1lIHN0YW1wXG5cbiAgICAvKipcbiAgICAgKiBFeGFtcGxlczpcbiAgICAgKiBuZXcgTmRKc29uUGxheWVyKFwiL3ZpZGVvcy90ZXN0Lm5kanNvblwiLFwiY2FudmFzXCIsIHsgbG9vcDogdHJ1ZSB9KVxuICAgICAqIG5ldyBOZEpzb25QbGF5ZXIoXCIvdmlkZW9zL3Rlc3QubmRqc29uXCIsIHsgbG9vcDogdHJ1ZSB9KVxuICAgICAqIG5ldyBOZEpzb25QbGF5ZXIoXCIvdmlkZW9zL3Rlc3QubmRqc29uXCIpXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3JjICAgICAubmRqc29uIGZpbGUgKHNlZSBmb3JtYXQpXG4gICAgICogQHBhcmFtIGVsZW1lbnQgOiBOb2RlLCBIVE1MIGVsZW1lbnQgKG11c3QgYmUgYSBjYW52YXMpLiBJZiBub3Qgc2V0LCBpdCB3aWxsIHVzZSAnPGNhbnZhcz4nXG4gICAgICogQHBhcmFtIG9wdGlvbnMgOiBPYmplY3QgcmVwbGFjaW5nIGRlZmF1bHQgdmFsdWVzXG4gICAgICogQHBhcmFtIGV2ZW50cyAgOiBPYmplY3QgY29udGFpbmluZyBldmVudHM6IChvbnN0YXJ0LCBvbmxvYWQsIG9ucmVuZGVyLCBvbnBsYXksIG9uc3RvcCwgb25maW5pc2gsIG9uZXJyb3IpXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc3JjLCBlbGVtZW50LCBvcHRpb25zLCBldmVudHMpIHtcbiAgICAgICAgY29uc3QgX3RoaXMgPSB0aGlzO1xuICAgICAgICBfdGhpcy5zcmMgPSBzcmM7XG4gICAgICAgIGlmICghd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBub0V2ZW50ID0gKCgpID0+IHt9KTtcbiAgICAgICAgZXZlbnRzID0gT2JqZWN0LmFzc2lnbih7fSwgZXZlbnRzKTtcbiAgICAgICAgLy8gQWRkIGV2ZW50czpcbiAgICAgICAgX3RoaXMub25TdGFydCAgICA9IGV2ZW50cy5vbnN0YXJ0ICB8fCBub0V2ZW50O1xuICAgICAgICBfdGhpcy5vbkxvYWQgICAgID0gZXZlbnRzLm9ubG9hZCAgIHx8IG5vRXZlbnQ7XG4gICAgICAgIF90aGlzLm9uUmVuZGVyICAgPSBldmVudHMub25yZW5kZXIgfHwgbm9FdmVudDtcbiAgICAgICAgX3RoaXMub25QbGF5ICAgICA9IGV2ZW50cy5vbnBsYXkgICB8fCBub0V2ZW50O1xuICAgICAgICBfdGhpcy5vblN0b3AgICAgID0gZXZlbnRzLm9uc3RvcCAgIHx8IG5vRXZlbnQ7XG4gICAgICAgIF90aGlzLm9uRmluaXNoICAgPSBldmVudHMub25maW5pc2ggfHwgbm9FdmVudDtcbiAgICAgICAgX3RoaXMub25FcnJvciAgICA9IGV2ZW50cy5vbmVycm9yICB8fCAoZSA9PiB7IGNvbnNvbGUubG9nKGUpOyB9KVxuICAgICAgICAvLyBGaXggYW5kIGNoZWNrIGFyZ3VtZW50c1xuICAgICAgICBsZXQgcGxheWVyID0gbnVsbDtcbiAgICAgICAgaWYoZWxlbWVudCBpbnN0YW5jZW9mIE5vZGUpIHtcbiAgICAgICAgICAgIHBsYXllciA9IGVsZW1lbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnQgPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBlbGVtZW50O1xuICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBcImNhbnZhc1wiO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZWxlbWVudCAhPSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgXCJJbmNvcnJlY3QgcGFyYW1ldGVyIHBhc3NlZCB0byBjb25zdHJ1Y3RvciBvZiBOZEpzb25QbGF5ZXJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIExvb2sgZm9yIGNhbnZhc1xuICAgICAgICAgICAgcGxheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50IHx8IFwiY2FudmFzXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwbGF5ZXIpIHtcbiAgICAgICAgICAgIGlmIChwbGF5ZXIudGFnTmFtZSA9PT0gXCJDQU5WQVNcIikge1xuICAgICAgICAgICAgICAgIF90aGlzLmNhbnZhcyA9IHBsYXllcjtcbiAgICAgICAgICAgICAgICAvLyBjcmVhdGUgd3JhcHBlciBjb250YWluZXJcbiAgICAgICAgICAgICAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgcGxheWVyLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHdyYXBwZXIsIHBsYXllcik7XG4gICAgICAgICAgICAgICAgd3JhcHBlci5wcmVwZW5kKHBsYXllcik7XG4gICAgICAgICAgICAgICAgcGxheWVyID0gd3JhcHBlcjtcbiAgICAgICAgICAgIH0gZWxzZSBpZihwbGF5ZXIuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuY2FudmFzID0gcGxheWVyLnF1ZXJ5U2VsZWN0b3IoXCJjYW52YXNcIik7XG4gICAgICAgICAgICAgICAgaWYoIV90aGlzLmNhbnZhcykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBcIk5vIGNhbnZhcyBmb3VuZCBpbiBlbGVtZW50XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiQ0FOVkFTXCIpO1xuICAgICAgICAgICAgICAgIHBsYXllci5wcmVwZW5kKF90aGlzLmNhbnZhcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBcIkNhbnZhcyBlbGVtZW50IHdhcyBub3QgZm91bmQgaW4gRE9NOiBcIiArIGVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMud3JhcHBlciA9IHBsYXllcjtcbiAgICAgICAgX3RoaXMuY2FudmFzLndpZHRoICA9IF90aGlzLndyYXBwZXIucGFyZW50KCkuY2xpZW50V2lkdGg7XG4gICAgICAgIF90aGlzLmNhbnZhcy5oZWlnaHQgPSBfdGhpcy53cmFwcGVyLnBhcmVudCgpLmNsaWVudEhlaWdodDtcbiAgICAgICAgLy8gU2V0IGNsYXNzbmFtZSBmb3Igc3R5bGVcbiAgICAgICAgcGxheWVyLmNsYXNzTGlzdC5hZGQoXCJuZGpwXCIpO1xuXG4gICAgICAgIC8vIFNldCBjb250ZXh0XG4gICAgICAgIF90aGlzLmN0eCA9IF90aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cbiAgICAgICAgLy8gT3B0aW9uczpcbiAgICAgICAgX3RoaXMuZnBzICAgICAgICA9IG9wdGlvbnMuZnBzIHx8IDI0O1xuICAgICAgICBfdGhpcy5sb29wICAgICAgID0gb3B0aW9ucy5sb29wIHx8IGZhbHNlO1xuICAgICAgICBfdGhpcy5saXZlICAgICAgID0gb3B0aW9ucy5saXZlIHx8IGZhbHNlO1xuICAgICAgICBfdGhpcy5hdXRvcGxheSAgID0gb3B0aW9ucy5hdXRvcGxheSB8fCBfdGhpcy5saXZlIHx8IGZhbHNlO1xuICAgICAgICBfdGhpcy5zaG93Zmlyc3QgID0gb3B0aW9ucy5zaG93Zmlyc3QgIT09IGZhbHNlO1xuICAgICAgICBfdGhpcy5wYXRoICAgICAgID0gb3B0aW9ucy5wYXRoIHx8IFwiXCI7XG4gICAgICAgIGlmKG9wdGlvbnMud2lkdGggID09PSBcImF1dG9cIikgeyBvcHRpb25zLndpZHRoICA9IDA7IH1cbiAgICAgICAgaWYob3B0aW9ucy5oZWlnaHQgPT09IFwiYXV0b1wiKSB7IG9wdGlvbnMuaGVpZ2h0ID0gMDsgfVxuXG4gICAgICAgIC8vIEluaXRpYWxpemUgdGltZXI6XG4gICAgICAgIF90aGlzLnRpbWVyID0gbmV3IFRpbWVyU3JjKDEwMDAgLyBfdGhpcy5mcHMpO1xuXG4gICAgICAgIC8vIExvYWQgdmlkZW86XG4gICAgICAgIGlmKF90aGlzLmxpdmUpIHtcbiAgICAgICAgICAgIG5ldyBUaW1lclNyYygxMDAwIC8gX3RoaXMuZnBzLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZmV0Y2goX3RoaXMuc3JjKS50aGVuKHJlcyA9PiByZXMuanNvbigpKS50aGVuKGZyYW1lID0+IHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVsb2FkKGZyYW1lKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pLnBsYXkoKTtcbiAgICAgICAgfSBlbHNlIGlmKF90aGlzLnNyYykge1xuICAgICAgICAgICAgX3RoaXMubG9hZCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJJbml0aWFsaXppbmcgd2l0aG91dCBzb3VyY2UuLi5cIilcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldCBmcmFtZXMgaW5mb3JtYXRpb25cbiAgICAgKi9cbiAgICBfcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuX2ZyYW1lcyA9IFtdO1xuICAgICAgICB0aGlzLl90b3RUaW1lID0gMDsgICAgICAgIC8vIE51bWJlciBvZiB0b3RhbCB0aW1lIChpbiBoZWFkZXIpXG4gICAgICAgIHRoaXMuX251bUZyYW1lcyA9IDA7ICAgICAgLy8gTnVtYmVyIG9mIHRvdGFsIGZyYW1lcyAoaW4gaGVhZGVyKVxuICAgICAgICB0aGlzLl9zdGFydFRpbWVTdGFtcCA9IDA7IC8vIFN0YXJ0aW5nIHRpbWUgc3RhbXBcbiAgICAgICAgdGhpcy5sb2FkZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9hZCBhIHZpZGVvIGZpbGUgb3IgY2hhbmdlIGN1cnJlbnQgdmlkZW8gZmlsZS5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgd2hlbiBlYWNoIGZyYW1lIGlzIHJlYWR5XG4gICAgICogQHBhcmFtIG5ld1NyYyBvcHRpb25hbCAoaWYgbm90IHNldCB3aWxsIHJlYWQgXCJzcmNcIiBwYXNzZWQgaW4gY29uc3RydWN0b3IpXG4gICAgICovXG4gICAgbG9hZChjYWxsYmFjaywgbmV3U3JjKSB7XG4gICAgICAgIGNvbnN0IF90aGlzID0gdGhpcztcbiAgICAgICAgaWYobmV3U3JjICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3JjID0gbmV3U3JjO1xuICAgICAgICAgICAgdGhpcy5fcmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCk7XG4gICAgICAgIGxldCBidWZmZXIgPSAnJztcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIGZldGNoKF90aGlzLnNyYylcbiAgICAgICAgICAgIC50aGVuKHJlc3AgPT4gcmVzcC5ib2R5LmdldFJlYWRlcigpKVxuICAgICAgICAgICAgLnRoZW4ocmVhZGVyID0+IHJlYWRlci5yZWFkKClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiBwcm9jZXNzICh7IHZhbHVlLCBkb25lIH0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3QgPSBKU09OLnBhcnNlKGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wcm9jZXNzRnJhbWUobGFzdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGxhc3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgYXJlIGRvbmUgbG9hZGluZyBhbGwgZnJhbWVzXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5vbkxvYWQoX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gKFxuICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyICsgZGVjb2Rlci5kZWNvZGUodmFsdWUsIHsgc3RyZWFtOiB0cnVlIH0pXG4gICAgICAgICAgICAgICAgICAgICkuc3BsaXQoL1tcXHJcXG5dKD89LikvKTtcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyID0gbGluZXMucG9wKCk7IC8vIEJ1ZmZlciBpcyB1c2VkIHRvIGtlZXAgdGhlIFwidW5maW5pc2hlZFwiIGxpbmVzIHRvZ2V0aGVyXG4gICAgICAgICAgICAgICAgICAgIGxpbmVzLm1hcChKU09OLnBhcnNlKS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucHJvY2Vzc0ZyYW1lKGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRlci5yZWFkKCkudGhlbihwcm9jZXNzKTtcbiAgICAgICAgICAgIH0pKS5jYXRjaChyZWFzb24gPT4gdGhpcy5vbkVycm9yKHJlYXNvbikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXBsYWNlIGN1cnJlbnQgZnJhbWVzIHdpdGggbmV3IG9uZXNcbiAgICAgKiBAcGFyYW0gZnJhbWVzIDogY2FuIGJlIGFuIGFycmF5IG9mIG9iamVjdHMgKGpzb24pLCBhbiBvYmplY3QgKHNpbmdsZSBmcmFtZSkgb3IgYSBzdHJpbmcgKG5kanNvbilcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgOiBjYWxsYmFjayB3aGVuIGVhY2ggZnJhbWUgaXMgcmVhZHlcbiAgICAgKi9cbiAgICByZWxvYWQoZnJhbWVzLCBjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGZzID0gW11cbiAgICAgICAgX3RoaXMuX3Jlc2V0KCk7XG5cbiAgICAgICAgc3dpdGNoKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgKHR5cGVvZiBmcmFtZXMgPT09ICdzdHJpbmcnKTpcbiAgICAgICAgICAgICAgICBmcyA9IGZyYW1lcy5zcGxpdCgvW1xcclxcbl0oPz0uKS8ubWFwKEpTT04ucGFyc2UpKTtcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSBBcnJheS5pc0FycmF5KGZyYW1lcyk6XG4gICAgICAgICAgICAgICAgZnMgPSBmcmFtZXNcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAoZnJhbWVzLmNvbnN0cnVjdG9yLm5hbWUgPT09IFwiT2JqZWN0XCIpOlxuICAgICAgICAgICAgICAgIGZzLnB1c2goZnJhbWVzKVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVW5hYmxlIHRvIHJlbG9hZCBmcmFtZXMuIFwiKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgZnMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgIF90aGlzLnByb2Nlc3NGcmFtZShpdGVtKTtcbiAgICAgICAgICAgIGlmKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgZnJhbWUgYXQgdGhlIGVuZFxuICAgICAqL1xuICAgIGFwcGVuZChmcmFtZSkge1xuICAgICAgICBjb25zdCBfdGhpcyA9IHRoaXM7XG4gICAgICAgIF90aGlzLl9mcmFtZXMucHVzaChmcmFtZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBmcmFtZSBhdCB0aGUgYmVnaW5uaW5nXG4gICAgICovXG4gICAgcHJlcGVuZChmcmFtZSkge1xuICAgICAgICBjb25zdCBfdGhpcyA9IHRoaXM7XG4gICAgICAgIF90aGlzLl9mcmFtZXMudW5zaGlmdChmcmFtZSk7XG4gICAgICAgIF90aGlzLmZyYW1lICsrOyAvL1RPRE86IHRlc3RcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJvY2VzcyBhIGZyYW1lXG4gICAgICovXG4gICAgcHJvY2Vzc0ZyYW1lKGl0ZW0pIHtcbiAgICAgICAgY29uc3QgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvL0ZJWE1FOiB3aGVuIHNwZWNpZnlpbmcgd2lkdGggYW5kIGhlaWdodCwgdGhlIGNhbnZhcyBpcyBmbGlja2VyaW5nIGR1ZSB0byByZXNpemluZy5cbiAgICAgICAgaWYoaXRlbS53ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIF90aGlzLmNhbnZhcy53aWR0aCAgPSBpdGVtLnc7XG4gICAgICAgIH1cbiAgICAgICAgaWYoaXRlbS5oICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIF90aGlzLmNhbnZhcy5oZWlnaHQgPSBpdGVtLmg7XG4gICAgICAgIH1cbiAgICAgICAgaWYoaXRlbS5mYiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBfdGhpcy5fZnJhbWVCYXNlID0gaXRlbS5mYjtcbiAgICAgICAgfVxuICAgICAgICBpZihpdGVtLnRoYiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBfdGhpcy5fdGh1bWJCYXNlID0gaXRlbS50aGI7XG4gICAgICAgIH1cbiAgICAgICAgaWYoaXRlbS50ZiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBfdGhpcy5fbnVtRnJhbWVzID0gaXRlbS50ZjtcbiAgICAgICAgfVxuICAgICAgICBpZihpdGVtLnR0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIF90aGlzLl90b3RUaW1lID0gaXRlbS50dDtcbiAgICAgICAgfVxuICAgICAgICBpZihpdGVtLnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmKCFfdGhpcy5fc3RhcnRUaW1lU3RhbXApIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fc3RhcnRUaW1lU3RhbXAgPSBpdGVtLnRzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGl0ZW0uZnBzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIF90aGlzLmZwcz0gaXRlbS5mcHM7XG4gICAgICAgICAgICBfdGhpcy50aW1lciA9IG5ldyBUaW1lclNyYygxMDAwIC8gX3RoaXMuZnBzKTtcbiAgICAgICAgfVxuICAgICAgICBpZihpdGVtLmYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgX3RoaXMuX2ZyYW1lcy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgLy8gQXV0b1BsYXk6XG4gICAgICAgICAgICBpZiAoIV90aGlzLmxvYWRlZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmxvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmF1dG9wbGF5KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnBsYXkoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzLnNob3dmaXJzdCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdGVwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMub25SZW5kZXIoaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYoIV90aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIF90aGlzLm9uU3RhcnQoX3RoaXMpO1xuICAgICAgICAgICAgX3RoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVuZGVyIHZpZGVvXG4gICAgICogQHBhcmFtIG9uY2Ugc2luZ2xlIHN0ZXBcbiAgICAgKi9cbiAgICBfcmVuZGVyKG9uY2UpIHtcbiAgICAgICAgaWYgKHRoaXMudGltZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgXCJUaW1lclNyYyB3YXMgbm90IGluaXRpYWxpemVkXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYodGhpcy5fZnJhbWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgXCJWaWRlbyBpcyBlbXB0eSBvciBubyBmcmFtZXMgd2VyZSBmb3VuZFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYodGhpcy5mcmFtZSA+PSB0aGlzLl9mcmFtZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgdGhpcy5mcmFtZSA9IHRoaXMubG9vcCA/IDAgOiB0aGlzLl9mcmFtZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLmZyYW1lIDwgMCkge1xuICAgICAgICAgICAgdGhpcy5mcmFtZSA9IHRoaXMubG9vcCA/IHRoaXMuX2ZyYW1lcy5sZW5ndGggLSAxOiAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2Rpc3BsYXlJbWcob25jZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzcGxheSBuZXh0IGltYWdlXG4gICAgICogQHBhcmFtIG9uY2Ugc2luZ2xlIHN0ZXBcbiAgICAgKi9cbiAgICBfZGlzcGxheUltZyhvbmNlKSB7XG4gICAgICAgIGNvbnN0IF90aGlzID0gdGhpcztcbiAgICAgICAgY29uc3QgaXRlbSA9IF90aGlzLl9mcmFtZXNbX3RoaXMuZnJhbWVdO1xuICAgICAgICBjb25zdCBuZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBfdGhpcy5vblJlbmRlcihpdGVtKTtcbiAgICAgICAgICAgIF90aGlzLnRpbWVyLmNhbGwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLl9pbmNyZW1lbnQoKTtcbiAgICAgICAgICAgICAgICBpZiAoIW9uY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9EbyBub3QgZXhlY3V0ZSBhbnl0aGluZyB1bnRpbCBpdHMgbG9hZGVkXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnRpbWVyLm5vY2FsbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5fZGlzcGxheUltZygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYoaXRlbS5mICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGZyYW1lID0gX3RoaXMuX2ZyYW1lQmFzZSArIGl0ZW0uZjtcbiAgICAgICAgICAgIF90aGlzLl9pbWFnZShmcmFtZSwgbmV4dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5vblJlbmRlcihpdGVtKTtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluY3JlbWVudCBmcmFtZVxuICAgICAqL1xuICAgIF9pbmNyZW1lbnQoKSB7XG4gICAgICAgIHRoaXMuZnJhbWUgKz0gKHRoaXMubXVsdGlwbGllciAqICh0aGlzLmJhY2t3YXJkcyA/IC0xIDogMSkpO1xuICAgICAgICBpZih0aGlzLmZyYW1lIDwgMCkge1xuICAgICAgICAgICAgaWYodGhpcy5sb29wKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mcmFtZSA9IHRoaXMuX2ZyYW1lcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZyYW1lID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkZpbmlzaCh0aGlzKTsgLy9CYWNrd2FyZHMgcGxheWluZ1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKHRoaXMuZnJhbWUgPiB0aGlzLnRvdGFsRnJhbWVzKCkgLSAxKSB7XG4gICAgICAgICAgICBpZih0aGlzLmxvb3ApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZyYW1lID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mcmFtZSA9IHRoaXMuX2ZyYW1lcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIHRoaXMucGF1c2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uRmluaXNoKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYW4gaW1hZ2Ugb2JqZWN0XG4gICAgICogQHBhcmFtIGltZ1xuICAgICAqIEBwYXJhbSBjYWxsYmFjayBzZW5kcyBcInRydWVcIiBvbiBzdWNjZXNzXG4gICAgICogQHJldHVybiB0aGlzXG4gICAgICovXG4gICAgX2RyYXcgPSBmdW5jdGlvbihpbWcsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IF90aGlzID0gdGhpcztcbiAgICAgICAgLy8vIHNldCBzaXplIHByb3BvcnRpb25hbCB0byBpbWFnZVxuICAgICAgICBpZihpbWcud2lkdGggPT09IDAgJiYgaW1nLmhlaWdodCA9PT0gMCkge1xuICAgICAgICAgICAgaW1nLm9uZXJyb3IoKTtcbiAgICAgICAgICAgIGlmKGNhbGxiYWNrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIF90aGlzLmNhbnZhcy53aWR0aCwgX3RoaXMuY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgICBfdGhpcy5jdHguZHJhd0ltYWdlKGltZywgMCwgMCwgaW1nLndpZHRoLCBpbWcuaGVpZ2h0LCAwLCAwLCBfdGhpcy5jYW52YXMud2lkdGgsIF90aGlzLmNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgICAgaWYoY2FsbGJhY2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2FkIGFuIGltYWdlIGludG8gY2FudmFzLlxuICAgICAqIEBwYXJhbSBpbWFnZSBwYXRoIG9yIHVybCBvZiBpbWFnZVxuICAgICAqIEBwYXJhbSBjYWxsYmFjayByZXR1cm5zIGltZyBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHRoaXNcbiAgICAgKi9cbiAgICBfaW1hZ2UgPSBmdW5jdGlvbihpbWFnZSwgY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgX3RoaXMgPSB0aGlzO1xuICAgICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgaW1nLmNyb3NzT3JpZ2luID0gJyc7XG4gICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgX3RoaXMuX2RyYXcoaW1nLGZ1bmN0aW9uKGRyYXduKXtcbiAgICAgICAgICAgICAgICBpZihkcmF3bikge1xuICAgICAgICAgICAgICAgICAgICBpZihjYWxsYmFjayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhpbWcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGltZy5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjb25zdCBlcnIgPSBfdGhpcy5vbkVycm9yKCk7XG4gICAgICAgICAgICBpZihlcnIpIHtcbiAgICAgICAgICAgICAgICBpbWcuc3JjID0gZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpbWcuc3JjID0gaW1hZ2VbMF0gPT09IFwiL1wiIHx8IGltYWdlLm1hdGNoKC9eaHR0cHM/Oi8pIHx8IGltYWdlLm1hdGNoKC9eZGF0YTppbWFnZS8pID8gaW1hZ2UgOiBfdGhpcy5wYXRoICsgaW1hZ2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBmcmFtZSBiYXNlXG4gICAgICovXG4gICAgZnJhbWVCYXNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZnJhbWVCYXNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeHBvc2UgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGN1cnJlbnQgZnJhbWVcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY3VycmVudEZyYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mcmFtZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gbnVtYmVyIG9mIGZyYW1lc1xuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0b3RhbEZyYW1lcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX251bUZyYW1lcyB8fCB0aGlzLl9mcmFtZXMubGVuZ3RoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0b3RhbCB0aW1lIG9mIHZpZGVvXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRvdGFsVGltZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RvdFRpbWUgfHwgdGhpcy5jdXJyZW50RnJhbWUoKSAvIHRoaXMuZnBzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiBhIGZyYW1lIGluIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIGluZGV4IDogcG9zaXRpb25cbiAgICAgKi9cbiAgICBmcmFtZUF0KGluZGV4KSB7XG4gICAgICAgIGNvbnN0IF90aGlzID0gdGhpcztcbiAgICAgICAgbGV0IGZyYW1lID0gKGluZGV4IDwgdGhpcy50b3RhbEZyYW1lcygpKSA/IF90aGlzLl9mcmFtZXNbaW5kZXhdIDogbnVsbDtcbiAgICAgICAgaWYoZnJhbWUpIHtcbiAgICAgICAgICAgIGZyYW1lLmZiID0gX3RoaXMuX2ZyYW1lQmFzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnJhbWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGluZGV4IG51bWJlciBhdCBwZXJjZW50YWdlIG9mIHZpZGVvXG4gICAgICogQHBhcmFtIHBlcmNlbnRhZ2VcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIGluZGV4QXQocGVyY2VudGFnZSkge1xuICAgICAgICBjb25zdCBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiB+figocGVyY2VudGFnZSAqIF90aGlzLnRvdGFsRnJhbWVzKCkpIC8gMTAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gcGxheWVyIE5vZGVcbiAgICAgKiBAcmV0dXJucyBET00gbm9kZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcGxheWVyTm9kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQbGF5IHZpZGVvIGluIGN1cnJlbnQgZGlyZWN0aW9uXG4gICAgICogQHBhcmFtIHN0YXJ0RnJhbWVcbiAgICAgKi9cbiAgICBwbGF5KHN0YXJ0RnJhbWUpIHtcbiAgICAgICAgaWYgKHN0YXJ0RnJhbWUgPCAwKSB7XG4gICAgICAgICAgICBzdGFydEZyYW1lID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChzdGFydEZyYW1lID4gdGhpcy5fZnJhbWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgc3RhcnRGcmFtZSA9IHRoaXMuX2ZyYW1lcy5sZW5ndGggLSAxO1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXJ0RnJhbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5mcmFtZSA9IHN0YXJ0RnJhbWUgKiAxO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGxheWluZyA9IHRydWU7XG4gICAgICAgIHRoaXMudGltZXIucGxheSgpO1xuICAgICAgICB0aGlzLl9yZW5kZXIoZmFsc2UpO1xuICAgICAgICB0aGlzLm9uUGxheSh0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQbGF5IHZpZGVvIGluIGZvcndhcmQgZGlyZWN0aW9uXG4gICAgICogKHVzZWQgbWFpbmx5IHRvIGNoYW5nZSBkaXJlY3Rpb24pXG4gICAgICogQHBhcmFtIHN0YXJ0RnJhbWVcbiAgICAgKi9cbiAgICBwbGF5Rm9yd2FyZChzdGFydEZyYW1lKSB7XG4gICAgICAgIHRoaXMuYmFja3dhcmRzID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGxheShzdGFydEZyYW1lKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQbGF5IHZpZGVvIGluIGJhY2t3YXJkcyBkaXJlY3Rpb25cbiAgICAgKiBAcGFyYW0gc3RhcnRGcmFtZVxuICAgICAqL1xuICAgIHBsYXlCYWNrd2FyZHMoc3RhcnRGcmFtZSkge1xuICAgICAgICB0aGlzLmJhY2t3YXJkcyA9IHRydWU7XG4gICAgICAgIHRoaXMucGxheShzdGFydEZyYW1lKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXVzZSB0aGUgdmlkZW9cbiAgICAgKi9cbiAgICBwYXVzZSgpIHtcbiAgICAgICAgdGhpcy5wbGF5aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMudGltZXIucGF1c2UoKTtcbiAgICAgICAgdGhpcy5vblN0b3AodGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RvcCB0aGUgdmlkZW8gKGFuZCBnbyBiYWNrIHRvIHRoZSBiZWdpbm5pbmcpXG4gICAgICovXG4gICAgc3RvcCgpIHtcbiAgICAgICAgdGhpcy5wbGF5aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZnJhbWUgPSAwO1xuICAgICAgICB0aGlzLnRpbWVyLnBhdXNlKCk7XG4gICAgICAgIHRoaXMuX2Rpc3BsYXlJbWcodHJ1ZSk7XG4gICAgICAgIHRoaXMub25TdG9wKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vdmUgdGhlIHZpZGVvIG9uZSBmcmFtZSBpbiB0aGUgY3VycmVudCBkaXJlY3Rpb25cbiAgICAgKi9cbiAgICBzdGVwKCkge1xuICAgICAgICB0aGlzLm9uUGxheSh0aGlzKTtcbiAgICAgICAgdGhpcy5wbGF5aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMudGltZXIuc3RlcCgpO1xuICAgICAgICB0aGlzLl9yZW5kZXIodHJ1ZSk7XG4gICAgICAgIHRoaXMub25TdG9wKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEp1bXAgdG8gZnJhbWVcbiAgICAgKi9cbiAgICBqdW1wVG8oc3RhcnRGcmFtZSkge1xuICAgICAgICBpZiAoc3RhcnRGcmFtZSA8IDApIHtcbiAgICAgICAgICAgIHN0YXJ0RnJhbWUgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXJ0RnJhbWUgPiB0aGlzLl9mcmFtZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBzdGFydEZyYW1lID0gdGhpcy5fZnJhbWVzLmxlbmd0aCAtIDE7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhcnRGcmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmZyYW1lID0gc3RhcnRGcmFtZSAqIDE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmVuZGVyKHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vdmUgb25lIGZyYW1lIGZvcndhcmRzIChhbmQgY2hhbmdlIGRpcmVjdGlvbilcbiAgICAgKi9cbiAgICBzdGVwRm9yd2FyZHMoKSB7XG4gICAgICAgIHRoaXMuYmFja3dhcmRzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RlcCgpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTW92ZSBvbmUgZnJhbWUgYmFja3dhcmRzIChhbmQgY2hhbmdlIGRpcmVjdGlvbilcbiAgICAgKi9cbiAgICBzdGVwQmFja3dhcmRzKCkge1xuICAgICAgICB0aGlzLmJhY2t3YXJkcyA9IHRydWU7XG4gICAgICAgIHRoaXMuc3RlcCgpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXQgdGhpcyBvYmplY3RcbiAgICAgKiBAcmV0dXJucyB7TmRKc29uUGxheWVyfVxuICAgICAqL1xuICAgIHJlc2V0KCkge1xuICAgICAgICBpZiAodGhpcy5jdHgucmVzZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jdHgucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuY3R4LmNsZWFyKCk7XG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgICAgIC8vUmVzZXQgYWxsOiBUaGUgZm9sbG93aW5nIGxpbmUgaXMgYSBcImhhY2tcIiB0byBmb3JjZSBpdCB0byByZXNldDpcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy5jYW52YXMud2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBUaGlzIGNsYXNzIGNyZWF0ZXMgdGhlIHBsYXllciBVSVxuICogaHR0cHM6Ly9naXRodWIuY29tL2xlcGUvbmRqc29uLXBsYXllclxuICogQGF1dGhvciBBLkxlcGVcbiAqIEBzaW5jZSAwNC8yMDIwXG4gKi9cbmNsYXNzIE5ESlBsYXllciB7XG4gICAgcGxheWVyOyAgICAvL05kSnNvblBsYXllciBvYmplY3RcbiAgICBvcHRpb25zOyAgIC8vT3B0aW9ucyBmb3IgdGhlIFVJXG4gICAgdWk7ICAgICAgICAvL1RoZSBVSVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBOREpQbGF5ZXJcbiAgICAgKiBAcGFyYW0gc3JjIDogc3RyaW5nIChVUkwgb2YgTkRKU09OIGZpbGUgb3Igc3RyZWFtKSAob3B0aW9uYWwpXG4gICAgICogQHBhcmFtIGVsZW1lbnQgOiBET00gc2VsZWN0b3Igb3IgSFRNTEVsZW1lbnQgd2hlcmUgdG8gcGxhY2UgTkRKUGxheWVyIChvcHRpb25hbClcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyA6IE9iamVjdCAob3B0aW9uYWwpXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc3JjLCBlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IF90aGlzID0gdGhpcztcbiAgICAgICAgZnVuY3Rpb24gaXNNZWRpYShzdHIpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHIuaW5kZXhPZihcIi5cIikgPiAwIHx8IHN0ci5pbmRleE9mKFwiL1wiKSAhPT0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaXNTZWxlY3RvcihzdHIpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHJbMF0gPT09IFwiLlwiIHx8IHN0clswXSA9PT0gXCIjXCIgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzdHIpICE9PSBudWxsXG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBpZihhcmd1bWVudHNbMV0uY29uc3RydWN0b3IubmFtZSA9PT0gXCJPYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0gYXJndW1lbnRzWzFdO1xuICAgICAgICAgICAgICAgICAgICBpZihpc01lZGlhKGFyZ3VtZW50c1swXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoYXJndW1lbnRzWzBdIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgfHwgaXNTZWxlY3Rvcihhcmd1bWVudHNbMF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3JjID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHN3aXRjaCh0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgYXJndW1lbnRzWzBdLmNvbnN0cnVjdG9yLm5hbWUgPT09IFwiT2JqZWN0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3JjID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBpc01lZGlhKGFyZ3VtZW50c1swXSk6XG4gICAgICAgICAgICAgICAgICAgICAgICBzcmMgPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgYXJndW1lbnRzWzBdIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgfHwgaXNTZWxlY3Rvcihhcmd1bWVudHNbMF0pOlxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyYyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJVbmtub3duIHBhcmFtZXRlciB3YXMgcGFzc2VkIHRvIE5ESlBsYXllciBjb25zdHJ1Y3Rvci5cIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyYyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBkZWZhdWx0OiAvLyBNb3JlIHRoYW4gMlxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgY29udHJvbHM6IGZhbHNlLFxuICAgICAgICAgICAgLypcbiAgICAgICAgICAgIGNvbnRyb2xzIDogeyAvL0V4YW1wbGUgb24gaG93IHRvIHNob3cvaGlkZSBlbGVtZW50c1xuICAgICAgICAgICAgICAgIGJhc2UgOiBcImZ1bGxcIiwgLy9XaGljaCBvbmUgdG8gdXNlIGFzIGJhc2VcbiAgICAgICAgICAgICAgICBwbGF5OiB0cnVlLCAvL3Nob3cgcGxheS9wYXVzZVxuICAgICAgICAgICAgICAgIHN0b3A6IHRydWUsXG4gICAgICAgICAgICAgICAgc3RlcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwcm9ncmVzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0aHVtYnM6IHRydWUsXG4gICAgICAgICAgICAgICAgZnVsbHNjcmVlbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzcGVlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYXBzZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmcmFtZXM6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAqL1xuICAgICAgICAgICAgcmVzaXplOiB0cnVlLCAvL3NldCBpdCB0byBmYWxzZSB0byBkaXNhYmxlIGFkanVzdGluZyB0aGUgc2l6ZSBiZWZvcmUgc3RhcnRpbmdcbiAgICAgICAgICAgIG9uYWN0aW9uIDogKGFjdGlvbiwgbmRqUGxheWVyLCB1aVBsYXllcikgPT4ge30sXG4gICAgICAgICAgICBvbnBsYXkgOiAobmRqUGxheWVyKSA9PiB7fSxcbiAgICAgICAgICAgIG9uc3RvcCA6IChuZGpQbGF5ZXIpID0+IHt9XG4gICAgICAgIH0sIG9wdGlvbnMgfHwge30pO1xuXG4gICAgICAgIC8vIENyZWF0ZSBVSVxuICAgICAgICB0aGlzLl9jcmVhdGUoZWxlbWVudCk7XG4gICAgICAgIC8vIEluaXRpYWxpemUgcGxheWVyXG4gICAgICAgIHRoaXMucGxheWVyID0gbmV3IE5kSnNvblBsYXllcihzcmMsIGVsZW1lbnQsIF90aGlzLm9wdGlvbnMsIHtcbiAgICAgICAgICAgIG9uc3RhcnQgOiBmdW5jdGlvbiAocGxheWVyKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2FkanVzdFNpemUoKVxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5vcHRpb25zLm9uc3RhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vcHRpb25zLm9uc3RhcnQocGxheWVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25sb2FkIDogZnVuY3Rpb24gKHBsYXllcikge1xuICAgICAgICAgICAgICAgIGlmKF90aGlzLm9wdGlvbnMub25sb2FkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub3B0aW9ucy5vbmxvYWQocGxheWVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25yZW5kZXIgOiBmdW5jdGlvbiAoZnJhbWUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fb25VcGRhdGUoZnJhbWUpO1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5vcHRpb25zLm9ucmVuZGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub3B0aW9ucy5vbnJlbmRlcihmcmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9ucGxheSA6IGZ1bmN0aW9uKHBsYXllcikge1xuICAgICAgICAgICAgICAgIGlmKF90aGlzLnVpLnBhbmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnVpLnBsYXkuc2hvdyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpZighIF90aGlzLnVpLnN0ZXAuY3NzLmNvbnRhaW5zKFwiZGlzYWJsZWRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnVpLnN0ZXAuc2hvdyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnVpLnBhdXNlLnNob3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5vcHRpb25zLm9ucGxheShwbGF5ZXIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uc3RvcCA6IGZ1bmN0aW9uKHBsYXllcikge1xuICAgICAgICAgICAgICAgIGlmKF90aGlzLnVpLnBhbmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnVpLnBsYXkuc2hvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmKCEgX3RoaXMudWkuc3RlcC5jc3MuY29udGFpbnMoXCJkaXNhYmxlZFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudWkuc3RlcC5zaG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy51aS5wYXVzZS5zaG93ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzLm9wdGlvbnMub25zdG9wKHBsYXllcik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25maW5pc2g6IGZ1bmN0aW9uIChwbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICAvL3BsYXllci5zdG9wKClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbmVycm9yIDogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgICAgICAvL1RPRE86IERpc3BsYXkgZXJyb3IgaW4gcGxheWVyXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBUcmlnZ2VyIG9uIHdpbmRvdyByZXNpemU6XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgX3RoaXMuX2FkanVzdFNpemUoKTtcbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBVSVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uVXBkYXRlKGZyYW1lKSB7XG4gICAgICAgIGNvbnN0IF90aGlzID0gdGhpcztcbiAgICAgICAgaWYoX3RoaXMudWkpIHtcbiAgICAgICAgICAgIGlmKF90aGlzLnVpLmZyYW1lcykge1xuICAgICAgICAgICAgICAgIF90aGlzLnVpLmZyYW1lcy50ZXh0ID0gKF90aGlzLnBsYXllci5jdXJyZW50RnJhbWUoKSArIDEpICsgXCIvXCIgKyBfdGhpcy5wbGF5ZXIudG90YWxGcmFtZXMoKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoX3RoaXMudWkubGFwc2UpIHtcbiAgICAgICAgICAgICAgICBsZXQgdGV4dCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgY29uc3QgdHMgPSBfdGhpcy5wbGF5ZXIuX3N0YXJ0VGltZVN0YW1wICYmIGZyYW1lLnRzICE9PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IGZyYW1lLnQgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBjb25zdCB0dCA9IF90aGlzLnBsYXllci5fdG90VGltZSA+IDA7XG4gICAgICAgICAgICAgICAgaWYoZnJhbWUuZCkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gZnJhbWUuZCArIFwiIFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZih0cykge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ICs9IF90aGlzLl9mb3JtYXRNaWxsaXMoZnJhbWUudHMgLSBfdGhpcy5wbGF5ZXIuX3N0YXJ0VGltZVN0YW1wKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYodCkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ICs9IGZyYW1lLnQuaW5kZXhPZihcIjpcIikgPiAwID8gZnJhbWUudCA6IF90aGlzLl9mbXRUaW1lKGZyYW1lLnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZih0dCkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ICs9IFwiL1wiICsgX3RoaXMucGxheWVyLnRvdGFsVGltZSgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzLnVpLmxhcHNlLnRleHQgPSB0ZXh0XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihfdGhpcy51aS5wcm9ncmVzcyAmJiBfdGhpcy5wbGF5ZXIudG90YWxGcmFtZXMoKSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnVpLnByb2dyZXNzLnZhbHVlID0gTWF0aC5yb3VuZCgoKF90aGlzLnBsYXllci5jdXJyZW50RnJhbWUoKSArIDEpIC8gKF90aGlzLnBsYXllci50b3RhbEZyYW1lcygpKSkgKiAxMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXQgd2lsbCBhZGp1c3QgdGhlIHZpZGVvIGFuZCBjYW52YXMgc2l6ZVxuICAgICAqIEBwcml2YXRlXG5cbiAgICAgRklYTUU6IGF0dHJpYnV0ZXMgaW4gPGNhbnZhPiBzaG91bGQgbWF0Y2ggaW1hZ2UhXG5cbiAgICAgKi9cbiAgICBfYWRqdXN0U2l6ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZXNpemUpIHtcbiAgICAgICAgICAgIGxldCBwbGF5ZXIgPSB0aGlzLnBsYXllci53cmFwcGVyO1xuICAgICAgICAgICAgbGV0IHBhcmVudCA9IHBsYXllci5wYXJlbnQoKTtcbiAgICAgICAgICAgIGxldCByYXRpb1cgPSAodGhpcy5vcHRpb25zLmhlaWdodCB8fCB0aGlzLnBsYXllci5jYW52YXMuaGVpZ2h0KSAvICh0aGlzLm9wdGlvbnMud2lkdGggfHwgdGhpcy5wbGF5ZXIuY2FudmFzLndpZHRoKTtcbiAgICAgICAgICAgIHRoaXMucGxheWVyLmNhbnZhcy5oZWlnaHQgPSBwYXJlbnQuY2xpZW50SGVpZ2h0IC0gKHRoaXMub3B0aW9ucy5jb250cm9scyA/IHBsYXllci5xdWVyeVNlbGVjdG9yKFwiLnBhbmVsXCIpLmNsaWVudEhlaWdodCA6IDApO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuY2FudmFzLndpZHRoID0gdGhpcy5wbGF5ZXIuY2FudmFzLmhlaWdodCAvIHJhdGlvVztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIFVJXG4gICAgICogQHBhcmFtIGVsZW1lbnQgU2VsZWN0b3JcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jcmVhdGUoZWxlbWVudCkge1xuICAgICAgICBjb25zdCBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmKG0yZDIpIHtcbiAgICAgICAgICAgIGNvbnN0ICQgPSBtMmQyLmxvYWQoKTtcbiAgICAgICAgICAgIF90aGlzLnVpID0gJChlbGVtZW50LCBfdGhpcy5fZ2V0VUkoZWxlbWVudCkpO1xuICAgICAgICAgICAgaWYoX3RoaXMudWkucGFuZWwpIHtcbiAgICAgICAgICAgICAgICBbXCJ0aHVtYlwiLCBcInBsYXlcIiwgXCJzdGVwXCIsIFwicGF1c2VcIiwgXCJzdG9wXCIsIFwibGFwc2VcIiwgXCJwcm9ncmVzc1wiLCBcImZyYW1lc1wiLCBcImZ1bGxzY3JlZW5cIl0uZm9yRWFjaChpdCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnVpW2l0XSA9IF90aGlzLnVpLnBhbmVsW2l0XTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTTJEMiB3YXMgbm90IGZvdW5kLiBFaXRoZXIgdXNlIHRoZSBzdGFuZGFyZCB2ZXJzaW9uICh3aGljaCBpbmNsdWRlcyBNMkQyKSBvciBhZGQgTTJEMiBpbiB5b3VyIGRlcGVuZGVuY2llcy5cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaG9vc2UgdGhlIFVJIHRvIGRpc3BsYXlcbiAgICAgKiBAcGFyYW0gZWxlbWVudCBTZWxlY3RvclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRVSShlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IF90aGlzID0gdGhpcztcbiAgICAgICAgbGV0IHVpID0geyBodG1sIDogKGVsZW1lbnQuaW5uZXJIVE1MIHx8IFwiXCIpIH07IC8vIElmIG5vIGNvbnRyb2xzIGFyZSBzcGVjaWZpZWRcblxuICAgICAgICAvLyBub2luc3BlY3Rpb24gRmFsbFRocm91Z2hJblN3aXRjaFN0YXRlbWVudEpTXG4gICAgICAgIGlmKF90aGlzLm9wdGlvbnMuY29udHJvbHMpIHtcbiAgICAgICAgICAgIHVpID0gdGhpcy5fZ2V0QmFzaWNVSSgpO1xuICAgICAgICAgICAgLy8gTk9URTogdmlzaWJpbGl0eSBpcyBjb250cm9sbGVkIGluIENTU1xuICAgICAgICAgICAgc3dpdGNoKF90aGlzLm9wdGlvbnMuY29udHJvbHMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiZnVsbFwiOlxuICAgICAgICAgICAgICAgICAgICB1aS5wYW5lbC5zdGVwLmNzcy5yZW1vdmUoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIFwiY29tbW9uXCI6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcImxpdmVcIjpcblxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMuY29udHJvbHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAvL1RPRE86IHdoYXQgdG8gc2hvdyBhbmQgd2hhdCBub3QgdG8gc2hvd1xuICAgICAgICB9XG4gICAgICAgIGxldCByb290ID0gZWxlbWVudCBpbnN0YW5jZW9mIE5vZGUgPyBlbGVtZW50IDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50KTtcbiAgICAgICAgaWYgKHJvb3QpIHtcbiAgICAgICAgICAgIGxldCBjYW52YXMgPSByb290LnF1ZXJ5U2VsZWN0b3IoXCJjYW52YXNcIik7XG4gICAgICAgICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICAgICAgICAgIHVpID0gT2JqZWN0LmFzc2lnbih7IGNhbnZhcyA6IFwiXCIgfSwgdWkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJSb290IGVsZW1lbnQ6IFwiICsgZWxlbWVudCArIFwiIHdhcyBub3QgZm91bmQgaW4gZG9jdW1lbnRcIik7XG4gICAgICAgICAgICB1aSA9IE9iamVjdC5hc3NpZ24oeyBjYW52YXMgOiBcIlwiIH0sIHVpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdWk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQmFzaWMgVUlcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2dldEJhc2ljVUkoKSB7XG4gICAgICAgIGNvbnN0IF90aGlzID0gdGhpcztcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZnVsbHNjcmVlbmNoYW5nZScsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGxheWVyID0gX3RoaXMucGxheWVyLndyYXBwZXI7XG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBwbGF5ZXIuY2xhc3NMaXN0LmFkZChcImZ1bGxzY3JlZW5cIilcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGxheWVyLmNsYXNzTGlzdC5yZW1vdmUoXCJmdWxsc2NyZWVuXCIpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2FwdGlvbiA6IFwiXCIsXG4gICAgICAgICAgICBjc3MgOiBfdGhpcy5vcHRpb25zLmNvbnRyb2xzLFxuICAgICAgICAgICAgcGFuZWwgOiB7XG4gICAgICAgICAgICAgICAgdGFnTmFtZTogXCJkaXZcIixcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgOiBcInBhbmVsXCIsXG4gICAgICAgICAgICAgICAgdGh1bWIgOiB7IC8vQ3JlYXRlIFwidGh1bWJcIiBpbnNpZGUgcGFuZWxcbiAgICAgICAgICAgICAgICAgICAgdGFnTmFtZSA6IFwiZmlndXJlXCIsXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA6IFwidGh1bWJcIixcbiAgICAgICAgICAgICAgICAgICAgaW1nIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3JjIDogXCJcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjYXB0aW9uIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFnTmFtZSA6IFwiZmlnQ2FwdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImNhcHRpb25cIixcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gQnV0dG9uc1xuICAgICAgICAgICAgICAgIHJlYyA6IHtcbiAgICAgICAgICAgICAgICAgICAgdGFnTmFtZSA6IFwiYVwiLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUgOiBcInJlY1wiLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJMaXZlXCIsXG4gICAgICAgICAgICAgICAgICAgIGhyZWY6IFwiI1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwbGF5IDoge1xuICAgICAgICAgICAgICAgICAgICB0YWdOYW1lIDogXCJhXCIsXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA6IFwicGxheVwiLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJQbGF5XCIsXG4gICAgICAgICAgICAgICAgICAgIGhyZWY6IFwiI1wiLFxuICAgICAgICAgICAgICAgICAgICBvbmNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy51aS5vbmFjdGlvbihcInBsYXlcIiwgX3RoaXMucGxheWVyLCBfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wbGF5ZXIucGxheSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwYXVzZSA6IHtcbiAgICAgICAgICAgICAgICAgICAgdGFnTmFtZSA6IFwiYVwiLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUgOiBcInBhdXNlXCIsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIlBhdXNlXCIsXG4gICAgICAgICAgICAgICAgICAgIGhyZWY6IFwiI1wiLFxuICAgICAgICAgICAgICAgICAgICBvbmNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy51aS5vbmFjdGlvbihcInBhdXNlXCIsIF90aGlzLnBsYXllciwgX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucGxheWVyLnBhdXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0ZXAgOiB7XG4gICAgICAgICAgICAgICAgICAgIHRhZ05hbWUgOiBcImFcIixcbiAgICAgICAgICAgICAgICAgICAgY3NzOiBbXCJzdGVwXCIsIFwiZGlzYWJsZWRcIl0sXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIlN0ZXBcIixcbiAgICAgICAgICAgICAgICAgICAgaHJlZjogXCIjXCIsXG4gICAgICAgICAgICAgICAgICAgIG9uY2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnVpLm9uYWN0aW9uKFwic3RlcFwiLCBfdGhpcy5wbGF5ZXIsIF90aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBsYXllci5zdGVwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0b3AgOiB7XG4gICAgICAgICAgICAgICAgICAgIHRhZ05hbWUgOiBcImFcIixcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lIDogXCJzdG9wXCIsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIlN0b3BcIixcbiAgICAgICAgICAgICAgICAgICAgaHJlZjogXCIjXCIsXG4gICAgICAgICAgICAgICAgICAgIG9uY2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnVpLm9uYWN0aW9uKFwic3RvcFwiLCBfdGhpcy5wbGF5ZXIsIF90aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBsYXllci5zdG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIFRpbWUgTGFwc2VcbiAgICAgICAgICAgICAgICBsYXBzZSA6IHtcbiAgICAgICAgICAgICAgICAgICAgdGFnTmFtZSA6IFwibGFiZWxcIixcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lIDogXCJsYXBzZVwiLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJUaW1lIGVsYXBzZWQgLyBUaW1lIFRvdGFsXCIsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IFwiMDowMFwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbGl2ZSA6IHtcbiAgICAgICAgICAgICAgICAgICAgdGFnTmFtZSA6IFwibGFiZWxcIixcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lIDogXCJsaXZlXCIsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IFwiTGl2ZSBGZWVkXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIFByb2dyZXNzIGJhclxuICAgICAgICAgICAgICAgIHByb2dyZXNzIDoge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgICAgICAgICAgbWF4OiAxMDAsXG4gICAgICAgICAgICAgICAgICAgIG9ubW91c2Vtb3ZlOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBvc2l0aW9uID0gfn4oKChlLm9mZnNldFgpIC8gdGhpcy5vZmZzZXRXaWR0aCkgKiAxMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZyYW1lID0gX3RoaXMucGxheWVyLmZyYW1lQXQoX3RoaXMucGxheWVyLmluZGV4QXQocG9zaXRpb24pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnVpLnRodW1iLnNob3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnVpLnRodW1iLmltZy5zcmMgPSBfdGhpcy5wbGF5ZXIuZnJhbWVCYXNlKCkgKyAoZnJhbWUudGggfHwgZnJhbWUuZik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudWkudGh1bWIuaW1nLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3aWR0aCA9IF90aGlzLnVpLnRodW1iLmltZy5uYXR1cmFsV2lkdGggfHwgX3RoaXMudWkudGh1bWIuaW1nLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy51aS50aHVtYi5zdHlsZS53aWR0aCA9IHdpZHRoICsgXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnJhbWUudGMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy51aS50aHVtYi5jYXB0aW9uID0gZnJhbWUudGM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnVpLnRodW1iLnN0eWxlLmxlZnQgPSAodGhpcy5vZmZzZXRMZWZ0ICsgZS5vZmZzZXRYIC0gKF90aGlzLnVpLnRodW1iLmNsaWVudFdpZHRoIC8gMikpICsgXCJweFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnVpLnRodW1iLnNob3cgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb25tb3VzZWxlYXZlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy51aS50aHVtYi5zaG93ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uY2xpY2s6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcG9zaXRpb24gPSB+figoKGUub2Zmc2V0WCkgLyB0aGlzLm9mZnNldFdpZHRoKSAqIDEwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSBfdGhpcy5wbGF5ZXIuaW5kZXhBdChwb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wbGF5ZXIuanVtcFRvKGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnVpLm9uYWN0aW9uKFwicHJvZ3Jlc3NcIiwgX3RoaXMucGxheWVyLCBfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIEZyYW1lIGNvdW50XG4gICAgICAgICAgICAgICAgZnJhbWVzIDoge1xuICAgICAgICAgICAgICAgICAgICB0YWdOYW1lIDogXCJsYWJlbFwiLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUgOiBcImZyYW1lc1wiLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJDdXJyZW50IEZyYW1lIC8gVG90YWwgRnJhbWVzXCIsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IFwiMFwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gRnVsbHNjcmVlbiB0b2dnbGVcbiAgICAgICAgICAgICAgICBmdWxsc2NyZWVuIDoge1xuICAgICAgICAgICAgICAgICAgICB0YWdOYW1lIDogXCJhXCIsXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA6IFwiZnVsbHNjcmVlblwiLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJGdWxsIFNjcmVlblwiLFxuICAgICAgICAgICAgICAgICAgICBocmVmOiBcIiNcIixcbiAgICAgICAgICAgICAgICAgICAgb25jbGljazogZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXIgPSBfdGhpcy5wbGF5ZXIud3JhcHBlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHBsYXllci5jbGFzc0xpc3QuY29udGFpbnMoXCJmdWxsc2NyZWVuXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudWkub25hY3Rpb24oXCJleGl0LWZ1bGxzY3JlZW5cIiwgX3RoaXMucGxheWVyLCBfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudWkub25hY3Rpb24oXCJmdWxsc2NyZWVuXCIsIF90aGlzLnBsYXllciwgX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci5yZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvL3NpemVzIDogW1wiU0RcIiwgXCJIRFwiLCBcIjRLXCJdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uYWN0aW9uIDogZnVuY3Rpb24oYWN0aW9uLCBuZGpQbGF5ZXIsIHVpUGxheWVyKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMub3B0aW9ucy5vbmFjdGlvbihhY3Rpb24sIG5kalBsYXllciwgdWlQbGF5ZXIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9ucGxheSA6IGZ1bmN0aW9uKG5kalBsYXllcikge1xuICAgICAgICAgICAgICAgIF90aGlzLm9wdGlvbnMub25wbGF5KG5kalBsYXllcik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25zdG9wIDogZnVuY3Rpb24obmRqUGxheWVyKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMub3B0aW9ucy5vbnN0b3AobmRqUGxheWVyLCB1aVBsYXllcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGb3JtYXQgYSB0aW1lLCBmb3IgZXhhbXBsZTogMTIwLjM0IHdpbGwgYmUgY29udmVydGVkIGludG86IDAyOjAwLjM0XG4gICAgICogQHBhcmFtIHRpbWUgaW50XG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9mbXRUaW1lKHRpbWUpIHtcbiAgICAgICAgdGltZSA9IHRpbWUudG9GaXhlZCgyKTtcbiAgICAgICAgbGV0IGRlY2ltYWwgPSB0aW1lLnNwbGl0KFwiLlwiKVsxXSB8fCBcIjAwXCI7XG4gICAgICAgIHJldHVybiAofn4odGltZSAvIDYwKSArIFwiXCIpLnBhZFN0YXJ0KDIsICcwJykgKyBcIjpcIiArICh+figodGltZSAvIDYwKSAlIDEgKiA2MCkgKyBcIlwiKS5wYWRTdGFydCgyLCAnMCcpICsgXCIuXCIgKyBkZWNpbWFsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGb3JtYXQgbWlsbGlzZWNvbmRzLCBmb3IgZXhhbXBsZTogOTAwMDAgd2lsbCBiZSBjb252ZXJ0ZWQgaW50bzogMDA6MDE6MzAuMDAwXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZm9ybWF0TWlsbGlzKG1pbGxpcykge1xuICAgICAgICBmdW5jdGlvbiBwYWQobnVtLCBkaWdpdHMpIHtcbiAgICAgICAgICAgIHJldHVybiAoXCIwMFwiICsgbnVtKS5zbGljZSgoZGlnaXRzIHx8IDIpICogLTEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGggPSBNYXRoLmZsb29yKG1pbGxpcy8xMDAwLzYwLzYwKTtcbiAgICAgICAgY29uc3QgbSA9IE1hdGguZmxvb3IoKG1pbGxpcy8xMDAwLzYwLzYwIC0gaCkqNjApO1xuICAgICAgICBjb25zdCBzID0gTWF0aC5mbG9vcigoKG1pbGxpcy8xMDAwLzYwLzYwIC0gaCkqNjAgLSBtKSo2MCk7XG4gICAgICAgIGNvbnN0IG1zID0gcGFyc2VJbnQoKG1pbGxpcyAlIDEwMDApIC8gMTAwKTtcbiAgICAgICAgcmV0dXJuIHBhZChoKSArIFwiOlwiICsgcGFkKG0pICsgXCI6XCIgKyBwYWQocykgKyBcIi5cIiArIHBhZChtcywgMyk7XG4gICAgfVxufSIsIi8qKlxuICogQGF1dGhvcjogQS4gTGVwZVxuICogTWFuYWdlIFRpbWVyc1xuICogVXNhZ2U6XG4gKiBjb25zdCB0ID0gbmV3IFRpbWVyU3JjKDEwMDApO1xuICogdC5jYWxsKGZ1bmN0aW9uKCkgeyA8ZG8+IH0pO1xuICogb3I6XG4gKiBjb25zdCB0ID0gbmV3IFRpbWVyU3JjKDEwMDAsZnVuY3Rpb24oKXsgPGRvPiB9KTtcbiAqIHQucGF1c2UoKTtcbiAqIHQuZGVzdHJveSgpO1xuICovXG5mdW5jdGlvbiBUaW1lclNyYyhvcmlnaW5hbF9tcywgY2FsbGJhY2spIHtcblx0bGV0IHN0YXJ0VGltZSwgdGltZXIsIG9iaiA9IHt9LCBhY3Rpb24sIG1zO1xuXHRvYmouaW50ZXJ2YWwgPSBvcmlnaW5hbF9tczsgLy9QdWJsaWMuIENhbiBiZSB1cGRhdGVkXG5cdG9iai5jaGVja2VyID0gNTA7IC8vIGFkanVzdCB0aGlzIG51bWJlciB0byBhZmZlY3QgZ3JhbnVsYXJpdHlcblx0b2JqLnN0YXR1cyA9IFwiaW5pdFwiO1xuXHRsZXQgbm93VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXHRzdGFydFRpbWUgPSBub3dUaW1lIC0gb3JpZ2luYWxfbXM7IC8vc3RhcnQgcmlnaHQgYXdheVxuXHRvYmouY2FsbCA9IGZ1bmN0aW9uKGZ1bmMpIHtcblx0XHRjYWxsYmFjayA9IGZ1bmM7XG5cdFx0cmV0dXJuIG9iajtcblx0fTtcblx0b2JqLm5vY2FsbCA9IGZ1bmN0aW9uKCkge1xuXHRcdGNhbGxiYWNrID0gbnVsbDtcblx0XHRyZXR1cm4gb2JqO1xuXHR9O1xuXHQvL0V4ZWN1dGUgdGhlIGNhbGxiYWNrIG1hbnVhbGx5IGFuZCByZXNldCB0aGUgdGltZXJcblx0b2JqLmV4ZWMgPSBmdW5jdGlvbigpIHtcblx0XHRpZihjYWxsYmFjaykgY2FsbGJhY2soKTtcblx0XHRzdGFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblx0XHRyZXR1cm4gb2JqO1xuXHR9O1xuXHQvLyBDaGVja3MgdGhlIHN0YXR1cyBvZiB0aGUgdGltZXJcblx0b2JqLmNoZWNrID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYoYWN0aW9uKSBhY3Rpb24oKTtcblx0XHRyZXR1cm4gb2JqO1xuXHR9O1xuICAgIG9iai5wbGF5ID0gZnVuY3Rpb24oKSB7XG5cdFx0YWN0aW9uID0gb2JqLnN0ZXA7XG5cdFx0b2JqLnN0YXR1cyA9IFwicnVubmluZ1wiO1xuXHRcdHJldHVybiBvYmo7XG4gICAgfTtcbiAgICBvYmoucGF1c2UgPSBmdW5jdGlvbigpIHtcblx0XHRhY3Rpb24gPSBudWxsO1xuXHRcdG9iai5zdGF0dXMgPSBcInBhdXNlZFwiO1xuXHRcdHJldHVybiBvYmo7XG4gICAgfTtcblx0b2JqLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcblx0XHRhY3Rpb24gPSBudWxsO1xuICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTtcblx0XHR0aW1lciA9IG51bGw7XG5cdFx0Zm9yKHZhciBvIGluIG9iaikge1xuXHRcdFx0b2JqW29dID0gbnVsbDtcblx0XHRcdGRlbGV0ZSBvYmpbb107XG5cdFx0fVxuXHRcdG9iai5zdGF0dXMgPSBcImRlc3Ryb3llZFwiO1xuXHR9O1xuICAgIG9iai5zdGVwID0gZnVuY3Rpb24oKSB7XG5cdFx0bm93VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICBtcyA9IE1hdGgubWF4KDAsIG9iai5pbnRlcnZhbCAtIChub3dUaW1lIC0gc3RhcnRUaW1lKSk7XG4gICAgICAgIGlmKG1zID09PSAwKSB7XG5cdFx0XHRtcyA9IG9iai5pbnRlcnZhbDtcblx0XHRcdHN0YXJ0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXHRcdFx0aWYoY2FsbGJhY2spIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9O1xuXHRvYmouc2xvdyA9IGZ1bmN0aW9uKCkge1xuXHRcdG9iai5pbnRlcnZhbCA9IDEwMDA7XG5cdFx0cmV0dXJuIG9iajtcblx0fTtcblx0b2JqLmZhc3QgPSBmdW5jdGlvbigpIHtcblx0XHRvYmouaW50ZXJ2YWwgPSBvcmlnaW5hbF9tcztcblx0XHRyZXR1cm4gb2JqO1xuXHR9O1xuICAgIHRpbWVyID0gc2V0SW50ZXJ2YWwob2JqLmNoZWNrLCBvYmouY2hlY2tlcik7XG4gICAgcmV0dXJuIG9iajtcbn1cbiIsIi8qKlxuICogSFRNTCBpbXBsZW1lbnRhdGlvbiBvZiBuZGpzb24tcGxheWVyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbGVwZS9uZGpzb24tcGxheWVyXG4gKiBAYXV0aG9yIEEuTGVwZVxuICogQHNpbmNlIDA0LzIwMjBcbiAqXG4gKiBFeGFtcGxlIHNwZWNpZnlpbmcgbXVsdGlwbGUgc2l6ZXM6XG4gKiA8dmlkZW8tbmQgc3JjPVwiL3ZpZGVvL2RlbW8ubmRqc29uXCIgY29udHJvbHMgbG9vcCBhdXRvcGxheT5cbiAqICAgICAgPHNvdXJjZSBzcmM9XCIvdmlkZW8vZGVtby1RVkdBLm5kanNvblwiIHdpZHRoPVwiMzIwXCI+XG4gKiAgICAgIDxzb3VyY2Ugc3JjPVwiL3ZpZGVvL2RlbW8tVkdBLm5kanNvblwiIHdpZHRoPVwiNjQwXCI+XG4gKiAgICAgIDxzb3VyY2Ugc3JjPVwiL3ZpZGVvL2RlbW8tU1ZHQS5uZGpzb25cIiB3aWR0aD1cIjgwMFwiPlxuICogICAgICA8c291cmNlIHNyYz1cIi92aWRlby9kZW1vLUhELm5kanNvblwiIHdpZHRoPVwiMTI4MFwiIGhlaWdodD1cIjcyMFwiPlxuICogICAgICA8c291cmNlIHNyYz1cIi92aWRlby9kZW1vLUZ1bGxIRC5uZGpzb25cIiB3aWR0aD1cIjE5MjBcIiBoZWlnaHQ9XCIxMDgwXCI+XG4gKiAgICAgIDxzb3VyY2Ugc3JjPVwiL3ZpZGVvL2RlbW8tNEsubmRqc29uXCIgd2lkdGg9XCIzODQwXCIgaGVpZ2h0PVwiMjE2MFwiPlxuICogPC92aWRlby1uZD5cbiAqXG4gKiBFeGFtcGxlIHNwZWNpZnlpbmcgdHJhY2tzOlxuICogICh0cnlpbmcgdG8gYmUgYXMgY2xvc2UgdG86IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvRWxlbWVudC90cmFjaylcbiAqIE5PVEU6IFZUVCBmb3JtYXQgaXMgbm90IHN1cHBvcnRlZCBhcyBpdCBpcyBiYXNlZCBpbiB0aW1lZCB0ZXh0LCB3aGlsZVxuICogd2UgbmVlZCB0byBiZSBzdXJlIHRoZXkgYXJlIHN5bmMgd2l0aCBpbWFnZXMgdXNpbmcgZnJhbWVzIGluc3RlYWQgb2YgdGltZS5cbiAqXG4gKiA8dmlkZW8tbmQgc3JjPVwiL3ZpZGVvL2RlbW8ubmRqc29uXCIgY29udHJvbHMgbG9vcCBhdXRvcGxheT5cbiAqICAgIDx0cmFjayBzcmM9XCIvaW5mby9kYXRhLnR4dFwiIGtpbmQ9XCJkZXNjcmlwdGlvbnNcIiBsYWJlbD1cIkRhdGFcIj5cbiAqIDwvdmlkZW8tbmQ+XG4gKlxuICogVHJhY2sgdHlwZXM6XG4gKiBjYXB0aW9ucyAgICAgOiBEaXNwbGF5ZWQgb24gdGhlIGNlbnRlclxuICogY2hhcHRlcnMgICAgIDogSXQgd2lsbCBiZSBkaXNwbGF5ZWQgaW4gdGhlIHRvcCAoYWxzbyB1c2VmdWwgZm9yIG5hdmlnYXRpb24pXG4gKiBkZXNjcmlwdGlvbnMgOiBEaXNwbGF5ZWQgb24gdG9wIGxlZnQgY29ybmVyXG4gKiBtZXRhZGF0YSAgICAgOiBEaXNwbGF5ZWQgb24gdG9wIHJpZ2h0IGNvcm5lclxuICogc3VidGl0bGVzICAgIDogRGlzcGxheWVkIG9uIHRoZSBib3R0b21cbiAqXG4gKiBUaGUgZm9ybWF0IG9mIHRoZSBUWFQgZmlsZSBpcyBcImZyYW1lLW9yLXJhbmdlIyBzcGFjZS1vci10YWIgdGV4dFwiLCBmb3IgZXhhbXBsZTpcbiAqIDIwLTMwICAgIE9iamVjdHM8YnI+YnkgY29sb3I6XG4gKiAzNSAgIEJsdWU6IDIsIFJlZDogMVxuICogMzYgICBCbHVlOiAzLCBSZWQ6IDFcbiAqIDM3ICAgQmx1ZTogMiwgUmVkOiAyXG4gKlxuICogQWJvdXQgY2hhcHRlcnM6XG4gKiBBZGRpdGlvbmFsbHkgdG8gYmVpbmcgZGlzcGxheWVkIG9uIHRoZSB0b3AgYXMgYSB0aXRsZSwgaWYgdXNlZCwgaXQgd2lsbCBkaXNwbGF5IG5leHQgYW5kIHByZXYgYnV0dG9ucy5cbiAqIEZvciBleGFtcGxlOlxuICogYDx0cmFjayBzcmM9XCIvY2hhcHRlcnMvZmlsZS50eHRcIiBraW5kPVwiY2hhcHRlcnNcIj5gXG4gKlxuICogZmlsZS50eHQ6XG4gKiAwLTEwIENoYXB0ZXIgMTo8YnI+VGhlIGJlZ2lubmluZ1xuICogMzUyLTM2MCBDaGFwdGVyIDI6PGJyPlRoZSBtb21lbnRcbiAqIDY4OS03MTAgTGFzdCBDaGFwdGVyOjxicj5UaGUgZW5kXG4gKlxuICogV2hlbmV2ZXIgeW91IGNsaWNrIG9uICdwcmV2JyBvciAnbmV4dCcgaXQgd2lsbCB1c2UgdGhlIGJlZ2lubmluZyBvZiBlYWNoIGNoYXB0ZXIgdG8ganVtcCBpbnRvIHNjZW5lcy5cbiAqIFRoZSByYW5nZSBpcyB1c2VkIHRvIGRpc3BsYXkgaXQuIElmIHlvdSBkb24ndCBzZXQgYSByYW5nZSAoanVzdCBhIGZyYW1lIG51bWJlciksIGl0IHdpbGwgYmUgZGlzcGxheWVkIGZvciAzcy5cbiAqL1xuY2xhc3MgVmlkZW9ORCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgLy8gY3JlYXRlIHNoYWRvdyBkb20gcm9vdFxuICAgICAgICB0aGlzLl9yb290ID0gdGhpczsgLy90aGlzLmF0dGFjaFNoYWRvdyh7bW9kZTogJ29wZW4nfSk7XG4gICAgICAgIC8vdGhpcy5fcm9vdC5pbm5lckhUTUwgPSBgYDtcbiAgICAgICAgY29uc3Qgcm9vdCA9IHRoaXM7XG5cbiAgICAgICAgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAvLyBBdHRyaWJ1dGVzIHNpbWlsYXIgdG8gPHZpZGVvPiB0YWc6XG4gICAgICAgICAgICBhdXRvcGxheSA6IGZhbHNlLFxuICAgICAgICAgICAgY29udHJvbHMgOiBmYWxzZSzjgIAvL3RydWU6IG1vc3QgYmFzaWMgVUksICdjb21tb24nLCAnZnVsbCcsIG9yIGxpc3QsIGZvciBleGFtcGxlOiAncGxheSBwcm9ncmVzcyBsYXBzZSBmcmFtZXMnXG4gICAgICAgICAgICBsb29wICAgICA6IGZhbHNlLFxuICAgICAgICAgICAgbGl2ZSAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgIHdpZHRoICAgIDogJ2F1dG8nLFxuICAgICAgICAgICAgaGVpZ2h0ICAgOiAnYXV0bycsXG4gICAgICAgICAgICBwb3N0ZXIgICA6ICcnLFxuICAgICAgICAgICAgcHJlbG9hZCAgOiAnYXV0bycsIC8vT3B0aW9ucyBhcmU6ICdtZXRhZGF0YScsICdub25lJyxcbiAgICAgICAgICAgIHNyYyAgICAgIDogJycsICAgICAvL1VSTCAhaW1wb3J0YW50XG4gICAgICAgICAgICAvLyBBZGRpdGlvbmFsIGF0dHJpYnV0ZXM6XG4gICAgICAgICAgICBjYyAgICAgICAgICA6ICdhdXRvJywgLy9FbmFibGUgQ0MgYnV0dG9uXG4gICAgICAgICAgICBjYXB0aW9uICAgICA6ICcnLCAvL1NldCBzb21lIGNhcHRpb24gb3ZlciB0aGUgdmlkZW9cbiAgICAgICAgICAgIGZ1bGxzY3JlZW4gIDogZmFsc2UsIC8vVXNlICdhdXRvJyB0byBvbmx5IGRpc3BsYXkgYnV0dG9uLiB0cnVlID0gc3RhcnQgYXMgZnVsbHNjcmVlblxuICAgICAgICAgICAgZnBzICAgICAgICAgOiAnJywgLy9zcGVjaWZ5IHZpZGVvIGZwcyAoaWYgaXRzIG5vdCBpbiB0aGUgbWV0YWRhdGEpXG4gICAgICAgICAgICBzcGVlZCAgICAgICA6IGZhbHNlLCAvL0Rpc3BsYXkgc3BlZWQgbWVudVxuICAgICAgICAgICAgYXV0b3NpemUgICAgOiAnYXV0bycsIC8vQXV0b21hdGljYWxseSBjaG9vc2UgYmVzdCBzaXplIGZyb20gc2l6ZXNcbiAgICAgICAgICAgIHNpemVzICAgICAgIDoge30gfHwgW10sIC8vU3BlY2lmeSBhdmFpbGFibGUgc2l6ZXMuIEV4YW1wbGU6IHsgSEQgOiAxMjAwIH0gb3IgWzgwMCwgMTIwMCwgMTgwMF1cbiAgICAgICAgICAgIHRodW1icyAgICAgIDogJ2F1dG8nLCAvL1Nob3cgdGh1bWJuYWlscyB3aGVuIHBsYWNpbmcgbW91c2Ugb3ZlciBwcm9ncmVzc1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBvcHRpb25zID0ge307XG4gICAgICAgIGZvcihsZXQgZCBpbiBkZWZhdWx0T3B0aW9ucykge1xuICAgICAgICAgICAgb3B0aW9uc1tkXSA9IHRoaXMuZ2V0QXR0cmlidXRlKGQpIHx8IHRoaXMuaGFzQXR0cmlidXRlKGQpIHx8IGRlZmF1bHRPcHRpb25zW2RdO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMub25zdGFydCA9IGZ1bmN0aW9uIChwbGF5ZXIpIHtcbiAgICAgICAgICAgIGlmKHJvb3Qub25zdGFydCkge1xuICAgICAgICAgICAgICAgIHJvb3Qub25zdGFydChwbGF5ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMub25sb2FkID0gZnVuY3Rpb24gKHBsYXllcikge1xuICAgICAgICAgICAgaWYocm9vdC5vbmxvYWQpIHtcbiAgICAgICAgICAgICAgICByb290Lm9ubG9hZChwbGF5ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMub25yZW5kZXIgPSBmdW5jdGlvbihmcmFtZSkge1xuICAgICAgICAgICAgaWYocm9vdC5vbnJlbmRlcikge1xuICAgICAgICAgICAgICAgIHJvb3Qub25yZW5kZXIoZnJhbWUsIG5kalBsYXllci53cmFwcGVyLCBuZGpQbGF5ZXIsIG5kalBsYXllci5wbGF5ZXIuY2FudmFzLCBuZGpQbGF5ZXIucGxheWVyLmN0eCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIHRoaXMuY2xhc3NOYW1lID0gXCJuZGpwXCI7XG4gICAgICAgIGNvbnN0IG5kalBsYXllciA9IG5ldyBOREpQbGF5ZXIob3B0aW9ucy5zcmMsIHRoaXMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHNldENhcHRpb24oY2FwdGlvbikge1xuICAgICAgICB0aGlzLl9yb290LnF1ZXJ5U2VsZWN0b3IoXCJjYXB0aW9uXCIpLmlubmVyVGV4dCA9IGNhcHRpb247XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XG4gICAgICAgIHJldHVybiBbICd3aWR0aCcsICdoZWlnaHQnLCAnY2FwdGlvbicgXTtcbiAgICB9XG5cbiAgICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG4gICAgICAgIGlmIChuYW1lID09PSAnY2FwdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Q2FwdGlvbihuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmdW5jdGlvbigpIHtcbiAgICB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCd2aWRlby1uZCcsIFZpZGVvTkQpO1xufSk7XG4iXX0=

//# sourceMappingURL=ndjson-player.headless.min.js.map
